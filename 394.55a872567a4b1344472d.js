"use strict";(self.webpackChunklamasat=self.webpackChunklamasat||[]).push([[394],{8394:(b,h,c)=>{c.r(h),c.d(h,{ProductModule:()=>tt});var Z=c(3461),_=c(8583),d=c(3679),m=c(171),p=c(4655),g=c(7238),f=c(8939),t=c(7716),u=c(221),s=c(7458),x=c(1822),q=c(743);function A(o,r){1&o&&(t.ynx(0),t.TgZ(1,"button",41),t._UZ(2,"img",42),t._uU(3," Edit "),t.qZA(),t.BQk())}function C(o,r){1&o&&(t.ynx(0),t._UZ(1,"img",45),t.BQk())}function P(o,r){1&o&&(t._UZ(0,"img",46),t._uU(1,"Save "))}function y(o,r){if(1&o&&(t.TgZ(0,"button",43),t.YNc(1,C,2,0,"ng-container",6),t.YNc(2,P,2,0,"ng-template",null,44,t.W1O),t.qZA()),2&o){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.loading)("ngIfElse",e)}}function F(o,r){if(1&o&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function U(o,r){if(1&o&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function M(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",18),t.TgZ(2,"label",51),t._uU(3,"Quantity "),t.TgZ(4,"span",13),t._uU(5,"*"),t.qZA(),t.qZA(),t.TgZ(6,"input",52),t.NdJ("change",function(n){return t.CHM(e),t.oxw().$implicit.to=n.target.value}),t.qZA(),t.qZA(),t.TgZ(7,"div",53),t.TgZ(8,"label",54),t._uU(9,"Price "),t.TgZ(10,"span",13),t._uU(11,"*"),t.qZA(),t.qZA(),t.TgZ(12,"input",55),t.NdJ("change",function(n){return t.CHM(e),t.oxw().$implicit.price=n.target.value}),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.to),t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.price)}}function w(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",26),t.TgZ(2,"label",57),t._uU(3,"From Size "),t.TgZ(4,"span",13),t._uU(5,"*"),t.qZA(),t.qZA(),t.TgZ(6,"input",58),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.from=n.target.value}),t.qZA(),t.qZA(),t.TgZ(7,"div",26),t.TgZ(8,"label",59),t._uU(9,"To Size "),t.TgZ(10,"span",13),t._uU(11,"*"),t.qZA(),t.qZA(),t.TgZ(12,"input",60),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.to=n.target.value}),t.qZA(),t.qZA(),t.TgZ(13,"div",53),t.TgZ(14,"label",61),t._uU(15,"Price "),t.TgZ(16,"span",13),t._uU(17,"*"),t.qZA(),t.qZA(),t.TgZ(18,"input",62),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.price=n.target.value}),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.from),t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.to),t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.price)}}function J(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"label",63),t._uU(2,"From "),t.TgZ(3,"span",13),t._uU(4,"*"),t.qZA(),t.qZA(),t.TgZ(5,"input",64),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.from=n.target.value}),t.qZA(),t.qZA(),t.TgZ(6,"div",26),t.TgZ(7,"label",65),t._uU(8,"To "),t.TgZ(9,"span",13),t._uU(10,"*"),t.qZA(),t.qZA(),t.TgZ(11,"input",66),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.to=n.target.value}),t.qZA(),t.qZA(),t.TgZ(12,"div",67),t.TgZ(13,"label",61),t._uU(14,"Price "),t.TgZ(15,"span",13),t._uU(16,"*"),t.qZA(),t.qZA(),t.TgZ(17,"input",62),t.NdJ("change",function(n){return t.CHM(e),t.oxw(2).$implicit.price=n.target.value}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(5),t.Q6J("disabled",i.isDisabled)("value",e.from),t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.to),t.xp6(6),t.Q6J("disabled",i.isDisabled)("value",e.price)}}function S(o,r){if(1&o&&(t.YNc(0,w,19,6,"ng-container",6),t.YNc(1,J,18,6,"ng-template",null,56,t.W1O)),2&o){const e=t.MAs(2);t.oxw(2);const i=t.MAs(74);t.Q6J("ngIf","space"==i.value)("ngIfElse",e)}}function N(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",68),t.TgZ(1,"img",69),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().quantity_price.splice(n,1)}),t.qZA(),t.qZA()}}function O(o,r){if(1&o&&(t.TgZ(0,"div",48),t.YNc(1,M,13,4,"ng-container",6),t.YNc(2,S,3,2,"ng-template",null,49,t.W1O),t.YNc(4,N,2,0,"div",50),t.qZA()),2&o){const e=t.MAs(3),i=t.oxw(),n=t.MAs(74);t.Q6J("@in",i.DataState),t.xp6(1),t.Q6J("ngIf","direct"==n.value)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.quantity_price.length>1&&!i.isDisabled)}}function I(o,r){if(1&o&&(t.TgZ(0,"div",74),t._uU(1),t.qZA()),2&o){const e=r.$implicit,i=t.oxw(2);t.Q6J("@in",i.DataState),t.xp6(1),t.hij(" ",e.name," ")}}function D(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",70),t.TgZ(1,"h4",71),t._uU(2,"Stages Order"),t.qZA(),t.TgZ(3,"div",72),t.NdJ("cdkDropListDropped",function(n){return t.CHM(e),t.oxw().drop(n)}),t.YNc(4,I,2,2,"div",73),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.stages)}}function Q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",89),t.TgZ(1,"img",69),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index;return t.oxw(2).stages.splice(n,1)}),t.qZA(),t.qZA()}}function k(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-accordion",77),t.YNc(1,Q,2,0,"div",78),t.TgZ(2,"mat-expansion-panel"),t.TgZ(3,"mat-expansion-panel-header"),t.TgZ(4,"mat-panel-title"),t._uU(5),t.qZA(),t.TgZ(6,"mat-panel-description"),t._UZ(7,"hr"),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",11),t.TgZ(10,"label"),t._uU(11,"Stage Name "),t.TgZ(12,"span",13),t._uU(13,"*"),t.qZA(),t.qZA(),t.TgZ(14,"input",79),t.NdJ("change",function(n){return t.CHM(e).$implicit.name=n.target.value}),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"label"),t._uU(17,"Default time "),t.TgZ(18,"span",13),t._uU(19,"*"),t.qZA(),t.qZA(),t.TgZ(20,"input",80),t.NdJ("change",function(n){return t.CHM(e).$implicit.period=n.target.value}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",8),t.TgZ(22,"div",11),t.TgZ(23,"label"),t._uU(24,"Stage Cost "),t.TgZ(25,"span",13),t._uU(26,"*"),t.qZA(),t.qZA(),t.TgZ(27,"input",80),t.NdJ("change",function(n){return t.CHM(e).$implicit.cost=n.target.value}),t.qZA(),t.qZA(),t.TgZ(28,"div",11),t.TgZ(29,"label",81),t._uU(30,"Mandatory ? "),t.TgZ(31,"span",13),t._uU(32,"*"),t.qZA(),t.qZA(),t._UZ(33,"br"),t.TgZ(34,"div",8),t.TgZ(35,"div",82),t.TgZ(36,"div",83),t.TgZ(37,"input",84),t.NdJ("change",function(n){return t.CHM(e).$implicit.is_required=n.target.value}),t.qZA(),t.TgZ(38,"label",85),t._uU(39,"Yes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",11),t.TgZ(41,"div",83),t.TgZ(42,"input",86),t.NdJ("change",function(n){return t.CHM(e).$implicit.is_required=n.target.value}),t.qZA(),t.TgZ(43,"label",85),t._uU(44,"No"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",8),t.TgZ(46,"div",9),t.TgZ(47,"label",87),t._uU(48,"Stage Note"),t.qZA(),t.TgZ(49,"textarea",88),t.NdJ("change",function(n){return t.CHM(e).$implicit.note=n.target.value}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=r.$implicit,i=r.index,n=t.oxw(2);t.Q6J("@in",n.DataState),t.xp6(1),t.Q6J("ngIf",n.stages.length>1&&!n.isDisabled),t.xp6(4),t.hij(" Stage ",i+1," "),t.xp6(9),t.Q6J("value",e.name)("disabled",n.isDisabled),t.xp6(6),t.Q6J("value",e.period)("disabled",n.isDisabled),t.xp6(7),t.Q6J("value",e.cost)("disabled",n.isDisabled),t.xp6(2),t.Q6J("for",i),t.xp6(8),t.Q6J("checked","yes"===e.is_required)("name",i)("disabled",n.isDisabled),t.xp6(5),t.Q6J("checked","no"===e.is_required)("name",i)("disabled",n.isDisabled),t.xp6(7),t.Q6J("value",e.note)("disabled",n.isDisabled)}}function Y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",90),t.TgZ(1,"button",91),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addStage()}),t._uU(2," + Add New Stage "),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isDisabled)}}function E(o,r){if(1&o&&(t.TgZ(0,"div",70),t.TgZ(1,"h4",71),t._uU(2,"Stages"),t.qZA(),t.YNc(3,k,50,18,"mat-accordion",75),t.YNc(4,Y,3,1,"div",76),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.stages),t.xp6(1),t.Q6J("ngIf",0!=e.stages.length)}}const z=[{name:"Amount",value:"direct"},{name:"From - To",value:"piece"},{name:"From - To - size",value:"space"}];let T=(()=>{class o{constructor(e,i,n,a,l,et){this._formBuilder=e,this._activatedRoute=i,this._categoryService=n,this._productService=a,this._validationService=l,this._router=et,this.methods=z,this.DataState="void",this.categories=[],this.quantity_price=[{from:1,to:10,price:1}],this.isDisabled=!1,this.loading=!1,this.stages=[],this.part="Add"}ngOnInit(){this.initialForm(),this.fetchData(),this.subscripeRoute()}fetchData(){this.getCategories()}getCategories(){this._categoryService.getAllCategories().subscribe(e=>this.categories=e.data)}initialValueForm(){this._productService.getDetailsProduct(this.productId).subscribe(e=>{var i=e.data;this.stages=i.stages,this.stages.forEach(n=>n.is_required=n.is_required?"yes":"no"),this.quantity_price=JSON.parse(String(i.quantity_price)),this.productForm.patchValue({name:i.name,description:i.description,period:i.period,big_discount:0,category_id:i.category_id,price:i.price,width:i.width,length:i.length,stages:0,quantity_price:0,pricing_type:i.pricing_type})})}initialForm(){this.productForm=this._formBuilder.group({name:[null,d.kI.required],description:[null,d.kI.required],period:[0,[d.kI.required,d.kI.min(1)]],category_id:[null,d.kI.required],price:[0,[d.kI.required,d.kI.min(1)]],width:[0,[d.kI.required,d.kI.min(1)]],length:[0,[d.kI.required,d.kI.min(1)]],stages:[this.stages],quantity_price:[this.quantity_price],pricing_type:[this.methods[0].value,d.kI.required]}),this._validationService.formSubject.next({form:this.productForm,submit:this.formSubmit}),this.formSubscripe=this.productForm.valueChanges.subscribe(()=>this._validationService.formSubject.next({form:this.productForm,submit:this.formSubmit}))}subscripeRoute(){this._activatedRoute.params.subscribe(e=>{this.productId=+e.productId,this.isUpdated=null!=e.productId,this.isUpdated&&(this.productId=+this.productId,this.initialValueForm()),String(window.location.href).includes("form")&&!this.isUpdated?this.part="Add":String(window.location.href).includes("form")?(this.isDisabled=!1,this.productForm.enable(),this.part="Edit"):(this.isDisabled=!0,this.productForm.disable(),this.part="Info")})}pipeSubmit(){var e=0;this.stages.forEach(i=>{i.is_required="yes"==i.is_required,i.order_number=++e}),this.productForm.patchValue({stages:this.stages,quantity_price:this.quantity_price})}Submit(e){this.isDisabled?(this.productForm.enable(),this.isDisabled=!1,this.part="Edit",this.loading=!1):(this.formSubmit=!0,this.pipeSubmit(),this.productForm.valid?(this.loading=!0,this.isUpdated?this._productService.updateInfoProduct(this.productId,this.productForm.value).pipe((0,f.x)(()=>this.loading=!1)).subscribe(i=>{this._router.navigate(["product/all"])}):this._productService.addProduct(this.productForm.value).pipe((0,f.x)(()=>this.loading=!1)).subscribe(i=>{this._router.navigate(["product/all"])})):(this._validationService.validateAllFormFields(this.productForm),this._validationService.formSubject.next({form:this.productForm,submit:this.formSubmit})))}showStagesByCategoryId(){this.DataState="in";var e=this.categories.find(i=>i.id==this.productForm.get("category_id").value);this.stages=e.stages,this.stages.forEach(i=>i.is_required=i.is_required?"yes":"no")}drop(e){(0,Z.bA)(this.stages,e.previousIndex,e.currentIndex)}addQuantityPrice(){var e=this.productForm.controls.pricing_type.value;this.quantity_price.push("direct"==e||"space"==e?{from:1,to:1,price:1}:{to:1,price:1}),this.DataState="in"}addStage(){this.DataState="in",this.stages.push({name:"Stage "+(this.stages.length+1),order_number:this.stages.length+1,period:0,cost:0,is_required:"yes",note:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.qu),t.Y36(p.gz),t.Y36(u.H),t.Y36(s.M),t.Y36(x.R),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-form"]],decls:83,vars:10,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[2,"margin-left","12rem","margin-top","6rem"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-row-reverse"],[1,"p-2"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"row"],[1,"col-md-12"],[1,"card","p-4",2,"border-radius","20px"],[1,"col-md-6"],["for","name"],[1,"text-danger"],["type","text","formControlName","name",1,"form-control"],["field","name"],["type","text","formControlName","description",1,"form-control"],["field","description"],[1,"col-md-6","mt-3"],["type","number","min","1","formControlName","period",1,"form-control"],["field","period"],["for","category"],[1,"select-arrow"],["id","category","formControlName","category_id",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["field","category_id"],[1,"col-md-3","mt-3"],["type","number","min","1","formControlName","width",1,"form-control"],["field","width"],["type","number","min","1","formControlName","length",1,"form-control"],["field","length"],["type","number","min","1","formControlName","price",1,"form-control"],["field","price"],["for","price_method"],["formControlName","pricing_type","id","price_method",1,"form-control"],["priceMethod",""],["field","pricing_type"],["class","row align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-primary","mb-3","btn-add",3,"disabled","click"],["class","row mt-3",4,"ngIf"],[1,"btn","btn-danger"],["src","assets/action-data/edit W.svg","width","20"],[1,"btn","btn-success"],["saveTemplate",""],["width","30","src","assets/Spinner-1s-257px.svg","alt",""],["src","assets/action-data/save.svg","width","20"],[3,"value"],[1,"row","align-items-center"],["elseDirectSize",""],["class","col-md-1 mt-3",4,"ngIf"],["for","quantity"],["name","quantity","id","quantity","type","number","min","1",1,"form-control",3,"disabled","value","change"],[1,"col-md-5","mt-3"],["for","Price"],["name","Price","id","Price","type","number","min","1",1,"form-control",3,"disabled","value","change"],["elseDirect",""],["for","from_size"],["name","from_size","id","from_size","type","number","min","1",1,"form-control",3,"disabled","value","change"],["for","to_size"],["name","to_size","id","to_size","type","number","min","1",1,"form-control",3,"disabled","value","change"],["for","price"],["name","price","id","price","type","number","min","1",1,"form-control",3,"disabled","value","change"],["for","from"],["id","from","name","from","type","number","min","1",1,"form-control",3,"disabled","value","change"],["for","to"],["name","to","id","to","type","number","min","1",1,"form-control",3,"disabled","value","change"],[1,"col-md-5"],[1,"col-md-1","mt-3"],["src","assets/action-data/close.svg","alt","","width","14",2,"cursor","pointer",3,"click"],[1,"row","mt-3"],[2,"font-weight","bold"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"example-list",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box"],["class","example-headers-align mt-3 mb-1 col-md-4","style","position: relative",4,"ngFor","ngForOf"],["class","col-md-4 mt-3",4,"ngIf"],[1,"example-headers-align","mt-3","mb-1","col-md-4",2,"position","relative"],["class","deletd-section","style","position: absolute; left: 4px; z-index: 1",4,"ngIf"],["type","text",1,"form-control",3,"value","disabled","change"],["type","number","min","1",1,"form-control",3,"value","disabled","change"],[1,"mb-2",3,"for"],[1,"col-md-4"],[1,"form-check"],["type","radio","value","yes",1,"form-check-input",3,"checked","name","disabled","change"],[1,"form-check-label"],["type","radio","value","no",1,"form-check-input",3,"checked","name","disabled","change"],["for","note"],["name","note","id","note","rows","3",1,"form-control",3,"value","disabled","change"],[1,"deletd-section",2,"position","absolute","left","4px","z-index","1"],[1,"col-md-4","mt-3"],["type","button",1,"btn","btn-primary","mb-3","btn-add","w-100",3,"disabled","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return i.Submit(i.productForm.value)}),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.YNc(7,A,4,0,"ng-container",6),t.YNc(8,y,4,2,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"div",8),t.TgZ(14,"div",11),t.TgZ(15,"label",12),t._uU(16,"Product Name "),t.TgZ(17,"span",13),t._uU(18,"*"),t.qZA(),t.qZA(),t._UZ(19,"input",14),t._UZ(20,"validation-control",15),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"label"),t._uU(23,"Description"),t.TgZ(24,"span",13),t._uU(25,"*"),t.qZA(),t.qZA(),t._UZ(26,"input",16),t._UZ(27,"validation-control",17),t.qZA(),t.qZA(),t.TgZ(28,"div",8),t.TgZ(29,"div",18),t.TgZ(30,"label",12),t._uU(31,"Completion time "),t.TgZ(32,"span",13),t._uU(33,"*"),t.qZA(),t.qZA(),t._UZ(34,"input",19),t._UZ(35,"validation-control",20),t.qZA(),t.TgZ(36,"div",18),t.TgZ(37,"label",21),t._uU(38,"Category "),t.TgZ(39,"span",13),t._uU(40,"*"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"select",23),t.NdJ("change",function(){return i.showStagesByCategoryId()}),t.YNc(43,F,2,2,"option",24),t.qZA(),t._UZ(44,"validation-control",25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",8),t.TgZ(46,"div",26),t.TgZ(47,"label"),t._uU(48,"Width "),t.TgZ(49,"span",13),t._uU(50,"*"),t.qZA(),t.qZA(),t._UZ(51,"input",27),t._UZ(52,"validation-control",28),t.qZA(),t.TgZ(53,"div",26),t.TgZ(54,"label"),t._uU(55,"Length "),t.TgZ(56,"span",13),t._uU(57,"*"),t.qZA(),t.qZA(),t._UZ(58,"input",29),t._UZ(59,"validation-control",30),t.qZA(),t.TgZ(60,"div",26),t.TgZ(61,"label"),t._uU(62,"Default Price "),t.TgZ(63,"span",13),t._uU(64,"*"),t.qZA(),t.qZA(),t._UZ(65,"input",31),t._UZ(66,"validation-control",32),t.qZA(),t.TgZ(67,"div",26),t.TgZ(68,"label",33),t._uU(69,"Pricing Method "),t.TgZ(70,"span",13),t._uU(71,"*"),t.qZA(),t.qZA(),t.TgZ(72,"div",22),t.TgZ(73,"select",34,35),t.YNc(75,U,2,2,"option",24),t.qZA(),t._UZ(76,"validation-control",36),t.qZA(),t.qZA(),t.qZA(),t.YNc(77,O,5,4,"div",37),t.TgZ(78,"div",38),t.TgZ(79,"button",39),t.NdJ("click",function(){return i.addQuantityPrice()}),t._uU(80," + Add New Price "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(81,D,5,1,"div",40),t.YNc(82,E,5,2,"div",40),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(9);t.xp6(1),t.hij(" Product > ",i.part,"\n"),t.xp6(3),t.Q6J("formGroup",i.productForm),t.xp6(3),t.Q6J("ngIf",i.isDisabled)("ngIfElse",n),t.xp6(36),t.Q6J("ngForOf",i.categories),t.xp6(32),t.Q6J("ngForOf",i.methods),t.xp6(2),t.Q6J("ngForOf",i.quantity_price),t.xp6(2),t.Q6J("disabled",i.isDisabled),t.xp6(2),t.Q6J("ngIf",0!=i.stages.length),t.xp6(1),t.Q6J("ngIf",0!=i.stages.length)}},directives:[d._Y,d.JL,d.sg,_.O5,d.Fj,d.JJ,d.u,q.n,d.qQ,d.wV,d.EJ,_.sg,d.YN,d.Kr,Z.Wj,Z.Zt,m.pp,m.ib,m.yz,m.yK,m.u4],styles:['@charset "UTF-8";label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}.select-arrow[_ngcontent-%COMP%]{position:relative}.select-arrow[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.select-arrow[_ngcontent-%COMP%]:after{position:absolute;top:9px;right:24px;content:"\\25b6";transform:rotate(90deg)}tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{border-style:none}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-list[_ngcontent-%COMP%]{width:1000px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:flex;flex-direction:row;background:white;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-right:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px;flex-grow:1;flex-basis:0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}'],data:{animation:[(0,g.X$)("in",[(0,g.SB)("in",(0,g.oB)({opacity:1,transform:"translateY(0)"})),(0,g.eR)("void=>*",[(0,g.oB)({opacity:0,transform:"translateY(100px)"}),(0,g.jt)(1e3)])])]}}),o})();var $=c(8259),v=c.n($),H=c(8818),j=c(5058),B=c(8590);function R(o,r){if(1&o&&(t.TgZ(0,"div",8),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e)}}function L(o,r){1&o&&t._UZ(0,"ngx-skeleton-loader",9)}function W(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t._uU(3),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.qZA(),t.TgZ(10,"div",12),t._uU(11),t.qZA(),t.TgZ(12,"div",13),t.TgZ(13,"img",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().GetProductInfo(a.id)}),t.qZA(),t._UZ(14,"div",15),t.TgZ(15,"img",16),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().routeToEdit(a.id)}),t.qZA(),t._UZ(16,"div",15),t.TgZ(17,"img",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().DeleteProduct(a.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=r.$implicit;t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.period),t.xp6(2),t.Oqu(e.length),t.xp6(2),t.Oqu(e.width),t.xp6(2),t.Oqu(e.price)}}const G=[{path:"all",component:(()=>{class o{constructor(e,i){this._productService=e,this._router=i,this.headers=["Name","Period","Length","Width","Price","Settings"],this.datasource=[],this.loadingItems=!1,this.DataState="void"}ngOnInit(){this.getCategories()}getCategories(){this.loadingItems=!0,this._productService.getAllProducts().pipe((0,f.x)(()=>{this.loadingItems=!1})).subscribe(e=>{this.DataState="in",this.datasource=e.data})}DeleteProduct(e){v().fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(i=>{i.isConfirmed?(this._productService.removeProduct(e).subscribe(n=>{v().fire("Deleted!","Your imaginary file has been deleted.","success")}),this.getCategories()):i.dismiss===v().DismissReason.cancel&&v().fire("Cancelled","Your imaginary file is safe :)","error")})}routeToAdd(){this._router.navigate(["product/form"])}routeToEdit(e){this._router.navigate(["product/form",e])}GetProductInfo(e){this._router.navigate(["product/find",e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.M),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-main"]],decls:11,vars:4,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-success","mb-3","btn-add",3,"click"],[1,"row"],["class","col-md-2","style","text-align: center; font-weight: bold; font-size: 17px",4,"ngFor","ngForOf"],["count","10",4,"ngIf"],["class","card mt-3 p-2","style","border-radius: 20px",4,"ngFor","ngForOf"],[1,"col-md-2",2,"text-align","center","font-weight","bold","font-size","17px"],["count","10"],[1,"card","mt-3","p-2",2,"border-radius","20px"],[1,"row",2,"text-align","center","align-items","center"],[1,"col-md-2"],[1,"col-md-2",2,"display","flex","justify-content","space-evenly"],["mat-raised-button","","matTooltip","info","matTooltipPosition","above","src","assets/action-data/Group 317.svg","width","23",2,"cursor","pointer",3,"click"],[1,"vl"],["mat-raised-button","","matTooltip","edit","matTooltipPosition","above","src","assets/action-data/edit.svg","width","23",2,"cursor","pointer",3,"click"],["mat-raised-button","","matTooltip","delete","matTooltipPosition","above","src","assets/action-data/delete.svg","width","20",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Product"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section"),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.routeToAdd()}),t._uU(6," + Add New Product "),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,R,3,1,"div",5),t.qZA(),t.YNc(9,L,1,0,"ngx-skeleton-loader",6),t.YNc(10,W,18,5,"div",7),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("@in",i.DataState),t.xp6(6),t.Q6J("ngForOf",i.headers),t.xp6(1),t.Q6J("ngIf",i.loadingItems),t.xp6(1),t.Q6J("ngForOf",i.datasource))},directives:[_.sg,_.O5,j.xr,B.gM],styles:[".card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}"],data:{animation:[H.b]}}),o})()},{path:"form",component:T},{path:"find/:productId",component:T},{path:"form/:productId",component:T}];let V=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(G)],p.Bz]}),o})();var X=c(71),K=c(6018);let tt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[_.ez,d.u5,d.UX,V,m.To,Z._t,X.E,K.SharedModule],p.Bz]}),o})()},7458:(b,h,c)=>{c.d(h,{M:()=>f});var Z=c(3927);class _ extends Z.s{constructor(u){super(u,"management/product")}createProduct(u){return this.createEntity(u,"/create")}readProducts(){return this.readEntities(void 0,"/all")}findProduct(u){return this.readEntity(u,"/find")}deleteProduct(u){return this.deleteEntity(u,void 0,"/delete")}updateProduct(u,s){return this.updateQueryEntity(s,"/update/"+u)}}var d=c(205),m=c(5304),p=c(7716),g=c(1841);let f=(()=>{class t{constructor(s){this.ProductRequests=new _(s)}getAllProducts(){return this.ProductRequests.readProducts().pipe((0,m.K)(s=>(0,d._)(s)))}addProduct(s){return this.ProductRequests.createProduct(s)}getDetailsProduct(s){return this.ProductRequests.findProduct(s)}removeProduct(s){return this.ProductRequests.deleteProduct(s)}updateInfoProduct(s,x){return this.ProductRequests.updateProduct(s,x)}}return t.\u0275fac=function(s){return new(s||t)(p.LFG(g.eN))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);