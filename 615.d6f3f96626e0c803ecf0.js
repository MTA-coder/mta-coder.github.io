"use strict";(self.webpackChunklamasat=self.webpackChunklamasat||[]).push([[615],{5615:(ht,q,c)=>{c.r(q),c.d(q,{OrderModule:()=>ln});var d=c(8583),x=c(4655),b=c(8939),P=c(8259),F=c.n(P),t=c(7716),J=c(3927);class f extends J.s{constructor(o){super(o,"order")}createOrder(o){return this.createEntity(o,"/create")}readOrders(){return this.readEntities(void 0,"/all/inprogress")}findOrder(o){return this.readEntity(o,"/find")}deleteOrder(o){return this.deleteEntity(o,void 0,"/delete")}updateOrder(o,e){return this.updateQueryEntity(e,"/update/"+o)}stageDone(o){return this.updateQueryEntity(void 0,"/stage/done/"+o)}}var _=c(1841),u=c(8649);let M=(()=>{class r{constructor(e,n){this._extraStage=n,this.orderActions=new f(e)}getAllOrderes(){return this.orderActions.readOrders()}addOrder(e){return this.orderActions.createOrder(e)}updateOrder(e,n){return this.orderActions.updateOrder(e,n)}removeOrder(e){return this.orderActions.deleteOrder(e)}infoOrder(e){return this.orderActions.findOrder(e)}updateStageDone(e){return this.orderActions.stageDone(e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(_.eN),t.LFG(u.f))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ft=c(9724),Q=c(7636),j=c(9238),Y=c(946),S=c(9490),H=c(6461),vt=c(521),z=c(9765),T=c(5917),E=c(9761),O=c(6782);function xt(r,o){1&r&&t.Hsn(0)}const St=["*"];let W=(()=>{class r{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),r})(),K=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepLabel",""]]}),r})(),Zt=0;const X=new t.OlP("STEPPER_GLOBAL_OPTIONS");let L=(()=>{class r{constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new t.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=(0,S.Ig)(e)}get optional(){return this._optional}set optional(e){this._optional=(0,S.Ig)(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=(0,S.Ig)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=(0,S.Ig)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var e;return null!==(e=this._stepperOptions.showError)&&void 0!==e?e:null!=this._customError}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>y)),t.Y36(X,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["cdk-step"]],contentQueries:function(e,n,i){if(1&e&&t.Suo(i,K,5),2&e){let s;t.iGM(s=t.CRH())&&(n.stepLabel=s.first)}},viewQuery:function(e,n){if(1&e&&t.Gf(t.Rgc,7),2&e){let i;t.iGM(i=t.CRH())&&(n.content=i.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[t.TTD],ngContentSelectors:St,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.YNc(0,xt,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),r})(),y=(()=>{class r{constructor(e,n,i,s){this._dir=e,this._changeDetectorRef=n,this._elementRef=i,this._destroyed=new z.xQ,this.steps=new t.n_E,this._sortedHeaders=new t.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new t.vpe,this._orientation="horizontal",this._groupId=Zt++}get linear(){return this._linear}set linear(e){this._linear=(0,S.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){var n;const i=(0,S.su)(e);this.steps&&this._steps?(this._isValidIndex(e),null===(n=this.selected)||void 0===n||n._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe((0,E.O)(this._steps),(0,O.R)(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,E.O)(this._stepHeader),(0,O.R)(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,i)=>n._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new j.Em(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,T.of)()).pipe((0,E.O)(this._layoutDirection()),(0,O.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const n=e-this._selectedIndex;return n<0?"rtl"===this._layoutDirection()?"next":"previous":n>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,n="number"){const i=this.steps.toArray()[e],s=this._isCurrentStep(e);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,s):this._getGuidelineLogic(i,s,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?"error":!e.completed||n?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,n,i="number"){return e._showError()&&e.hasError&&!n?"error":e.completed&&!n?"done":e.completed&&n?i:e.editable&&n?"edit":i}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const n=(0,H.Vb)(e),i=e.keyCode,s=this._keyManager;null==s.activeItemIndex||n||i!==H.L_&&i!==H.K5?s.onKeydown(e):(this.selectedIndex=s.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(n=>{const i=n.stepControl;return(i?i.invalid||i.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,vt.ht)();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Y.Is,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(d.K0))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(e,n,i){if(1&e&&(t.Suo(i,L,5),t.Suo(i,W,5)),2&e){let s;t.iGM(s=t.CRH())&&(n._steps=s),t.iGM(s=t.CRH())&&(n._stepHeader=s)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),r})(),Tt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[Y.vT]]}),r})();var yt=c(1095),m=c(2458),At=c(205),Mt=c(5758),tt=c(5319),B=c(3342),I=c(8002),Ot=c(5304),It=c(8819),wt=c(5257),G=c(9075);const qt=["*"];function et(r){return Error(`Unable to find icon with the name "${r}"`)}function nt(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function rt(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Z{constructor(o,e,n){this.url=o,this.svgText=e,this.options=n}}let N=(()=>{class r{constructor(e,n,i,s){this._httpClient=e,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,n,i){return this.addSvgIconInNamespace("",e,n,i)}addSvgIconLiteral(e,n,i){return this.addSvgIconLiteralInNamespace("",e,n,i)}addSvgIconInNamespace(e,n,i,s){return this._addSvgIconConfig(e,n,new Z(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,i,s){const a=this._sanitizer.sanitize(t.q3G.HTML,i);if(!a)throw rt(i);return this._addSvgIconConfig(e,n,new Z("",a,s))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,i){return this._addSvgIconSetConfig(e,new Z(n,null,i))}addSvgIconSetLiteralInNamespace(e,n,i){const s=this._sanitizer.sanitize(t.q3G.HTML,n);if(!s)throw rt(n);return this._addSvgIconSetConfig(e,new Z("",s,i))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,e);if(!n)throw nt(e);const i=this._cachedIconsByUrl.get(n);return i?(0,T.of)(k(i)):this._loadSvgIconFromConfig(new Z(e,null)).pipe((0,B.b)(s=>this._cachedIconsByUrl.set(n,s)),(0,I.U)(s=>k(s)))}getNamedSvgIcon(e,n=""){const i=it(n,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):(0,At._)(et(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,T.of)(k(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,I.U)(n=>k(n)))}_getSvgFromIconSetConfigs(e,n){const i=this._extractIconWithNameFromAnySet(e,n);if(i)return(0,T.of)(i);const s=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,Ot.K)(p=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(t.q3G.RESOURCE_URL,a.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(C)),(0,T.of)(null)})));return(0,Mt.D)(s).pipe((0,I.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw et(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let i=n.length-1;i>=0;i--){const s=n[i];if(s.svgText&&s.svgText.indexOf(e)>-1){const a=this._svgElementFromConfig(s),p=this._extractSvgIconFromSet(a,e,s.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,B.b)(n=>e.svgText=n),(0,I.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,T.of)(null):this._fetchIcon(e).pipe((0,B.b)(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,i){const s=e.querySelector(`[id="${n}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(a),this._setSvgAttributes(p,i)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const i=n.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const n=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let s=0;s<i.length;s++){const{name:a,value:p}=i[s];"id"!==a&&n.setAttribute(a,p)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){var n;const{url:i,options:s}=e,a=null!==(n=null==s?void 0:s.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const p=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,i);if(!p)throw nt(i);const A=this._inProgressUrlFetches.get(p);if(A)return A;const C=this._httpClient.get(p,{responseType:"text",withCredentials:a}).pipe((0,b.x)(()=>this._inProgressUrlFetches.delete(p)),(0,It.B)());return this._inProgressUrlFetches.set(p,C),C}_addSvgIconConfig(e,n,i){return this._svgIconConfigs.set(it(e,n),i),this}_addSvgIconSetConfig(e,n){const i=this._iconSetConfigs.get(e);return i?i.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](n,e);if(s)return Nt(s)?new Z(s.url,null,s.options):new Z(s,null)}}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(_.eN,8),t.LFG(G.H7),t.LFG(d.K0,8),t.LFG(t.qLn))},r.\u0275prov=t.Yz7({factory:function(){return new r(t.LFG(_.eN,8),t.LFG(G.H7),t.LFG(d.K0,8),t.LFG(t.qLn))},token:r,providedIn:"root"}),r})();function k(r){return r.cloneNode(!0)}function it(r,o){return r+":"+o}function Nt(r){return!(!r.url||!r.options)}const kt=(0,m.pj)(class{constructor(r){this._elementRef=r}}),Ut=new t.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,t.f3M)(d.K0),o=r?r.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),ot=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pt=ot.map(r=>`[${r}]`).join(", "),Jt=/^url\(['"]?#(.*?)['"]?\)$/;let st=(()=>{class r extends kt{constructor(e,n,i,s,a){super(e),this._iconRegistry=n,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=tt.w.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=(0,S.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=e.querySelectorAll("style");for(let s=0;s<n.length;s++)n[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const i=e.childNodes[n];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),n&&e.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((i,s)=>{i.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Pt),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)ot.forEach(a=>{const p=n[s],A=p.getAttribute(a),C=A?A.match(Jt):null;if(C){let R=i.get(p);R||(R=[],i.set(p,R)),R.push({name:a,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,i]=this._splitIconName(e);n&&(this._svgNamespace=n),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,n).pipe((0,wt.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${i}! ${s.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(N),t.$8M("aria-hidden"),t.Y36(Ut),t.Y36(t.qLn))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,n){2&e&&(t.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),t.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[t.qOj],ngContentSelectors:qt,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),at=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.BQ],m.BQ]}),r})();var Qt=c(3190),Yt=c(7519),g=c(7238);function Ht(r,o){if(1&r&&t.GkF(0,8),2&r){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function zt(r,o){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function Lt(r,o){if(1&r&&(t.TgZ(0,"mat-icon"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function Bt(r,o){if(1&r&&(t.ynx(0,9),t.YNc(1,zt,2,1,"span",10),t.YNc(2,Lt,2,1,"mat-icon",11),t.BQk()),2&r){const e=t.oxw();t.Q6J("ngSwitch",e.state),t.xp6(1),t.Q6J("ngSwitchCase","number")}}function Gt(r,o){if(1&r&&(t.TgZ(0,"div",12),t.GkF(1,13),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function $t(r,o){if(1&r&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.label)}}function Vt(r,o){if(1&r&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e._intl.optionalLabel)}}function jt(r,o){if(1&r&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function Wt(r,o){}function Kt(r,o){if(1&r&&(t.Hsn(0),t.YNc(1,Wt,0,0,"ng-template",0)),2&r){const e=t.oxw();t.xp6(1),t.Q6J("cdkPortalOutlet",e._portal)}}const Xt=["*"];function te(r,o){1&r&&t._UZ(0,"div",9)}const ct=function(r,o){return{step:r,i:o}};function ee(r,o){if(1&r&&(t.ynx(0),t.GkF(1,7),t.YNc(2,te,1,0,"div",8),t.BQk()),2&r){const e=o.$implicit,n=o.index,i=o.last;t.oxw(2);const s=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.WLB(3,ct,e,n)),t.xp6(1),t.Q6J("ngIf",!i)}}function ne(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("@horizontalStepTransition.done",function(i){return t.CHM(e),t.oxw(2)._animationDone.next(i)}),t.GkF(1,11),t.qZA()}if(2&r){const e=o.$implicit,n=o.index,i=t.oxw(2);t.Q6J("@horizontalStepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),t.uIk("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function re(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,ee,3,6,"ng-container",4),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,ne,2,5,"div",6),t.qZA(),t.BQk()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.steps),t.xp6(2),t.Q6J("ngForOf",e.steps)}}function ie(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.GkF(1,7),t.TgZ(2,"div",14),t.TgZ(3,"div",15),t.NdJ("@verticalStepTransition.done",function(i){return t.CHM(e),t.oxw(2)._animationDone.next(i)}),t.TgZ(4,"div",16),t.GkF(5,11),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=o.$implicit,n=o.index,i=o.last,s=t.oxw(2),a=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(9,ct,e,n)),t.xp6(1),t.ekj("mat-stepper-vertical-line",!i),t.xp6(1),t.Q6J("@verticalStepTransition",s._getAnimationDirection(n))("id",s._getStepContentId(n)),t.uIk("aria-labelledby",s._getStepLabelId(n))("aria-expanded",s.selectedIndex===n),t.xp6(2),t.Q6J("ngTemplateOutlet",e.content)}}function oe(r,o){if(1&r&&(t.ynx(0),t.YNc(1,ie,6,12,"div",12),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.steps)}}function se(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mat-step-header",17),t.NdJ("click",function(){return t.CHM(e).step.select()})("keydown",function(i){return t.CHM(e),t.oxw()._onKeydown(i)}),t.qZA()}if(2&r){const e=o.step,n=o.i,i=t.oxw();t.ekj("mat-horizontal-stepper-header","horizontal"===i.orientation)("mat-vertical-stepper-header","vertical"===i.orientation),t.Q6J("tabIndex",i._getFocusIndex()===n?0:-1)("id",i._getStepLabelId(n))("index",n)("state",i._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",i.selectedIndex===n)("active",i._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple||!i._stepIsNavigable(n,e))("color",e.color||i.color),t.uIk("aria-posinset",n+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!i._stepIsNavigable(n,e)||null)}}let U=(()=>{class r extends K{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["","matStepLabel",""]],features:[t.qOj]}),r})(),D=(()=>{class r{constructor(){this.changes=new z.xQ,this.optionalLabel="Optional"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const ce={provide:D,deps:[[new t.FiY,new t.tp0,D]],useFactory:function(r){return r||new D}},le=(0,m.pj)(class extends W{constructor(o){super(o)}},"primary");let lt=(()=>{class r extends le{constructor(e,n,i,s){super(i),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof U?null:this.label}_templateLabel(){return this.label instanceof U?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(D),t.Y36(j.tE),t.Y36(t.SBq),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[t.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,n){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"div",1),t.YNc(3,Ht,1,2,"ng-container",2),t.YNc(4,Bt,3,2,"ng-container",3),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,Gt,2,1,"div",5),t.YNc(7,$t,2,1,"div",5),t.YNc(8,Vt,2,1,"div",6),t.YNc(9,jt,2,1,"div",7),t.qZA()),2&e&&(t.Q6J("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),t.xp6(1),t.Gre("mat-step-icon-state-",n.state," mat-step-icon"),t.ekj("mat-step-icon-selected",n.selected),t.xp6(1),t.Q6J("ngSwitch",!(!n.iconOverrides||!n.iconOverrides[n.state])),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(2),t.ekj("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),t.xp6(1),t.Q6J("ngIf",n._templateLabel()),t.xp6(1),t.Q6J("ngIf",n._stringLabel()),t.xp6(1),t.Q6J("ngIf",n.optional&&"error"!=n.state),t.xp6(1),t.Q6J("ngIf","error"==n.state))},directives:[m.wG,d.RF,d.n9,d.ED,d.O5,d.tP,st],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),r})();const dt={horizontalStepTransition:(0,g.X$)("horizontalStepTransition",[(0,g.SB)("previous",(0,g.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,g.SB)("current",(0,g.oB)({transform:"none",visibility:"inherit"})),(0,g.SB)("next",(0,g.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,g.eR)("* => *",(0,g.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,g.X$)("verticalStepTransition",[(0,g.SB)("previous",(0,g.oB)({height:"0px",visibility:"hidden"})),(0,g.SB)("next",(0,g.oB)({height:"0px",visibility:"hidden"})),(0,g.SB)("current",(0,g.oB)({height:"*",visibility:"inherit"})),(0,g.eR)("* <=> current",(0,g.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let de=(()=>{class r{constructor(e){this.templateRef=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),r})(),pe=(()=>{class r{constructor(e){this._template=e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["ng-template","matStepContent",""]]}),r})(),pt=(()=>{class r extends L{constructor(e,n,i,s){super(e,s),this._errorStateMatcher=n,this._viewContainerRef=i,this._isSelected=tt.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,Qt.w)(()=>this._stepper.selectionChange.pipe((0,I.U)(e=>e.selectedStep===this),(0,E.O)(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Q.UE(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){return this._errorStateMatcher.isErrorState(e,n)||!!(e&&e.invalid&&this.interacted)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>gt)),t.Y36(m.rD,4),t.Y36(t.s_b),t.Y36(X,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-step"]],contentQueries:function(e,n,i){if(1&e&&(t.Suo(i,U,5),t.Suo(i,pe,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.stepLabel=s.first),t.iGM(s=t.CRH())&&(n._lazyContent=s.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[t._Bn([{provide:m.rD,useExisting:r},{provide:L,useExisting:r}]),t.qOj],ngContentSelectors:Xt,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Kt,2,1,"ng-template"))},directives:[Q.Pl],encapsulation:2,changeDetection:0}),r})(),ut=(()=>{class r extends y{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,features:[t.qOj]}),r})(),ue=(()=>{class r extends ut{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["mat-horizontal-stepper"]],features:[t.qOj]}),r})(),ge=(()=>{class r extends ut{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=t.n5z(r)))(n||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["mat-vertical-stepper"]],features:[t.qOj]}),r})(),gt=(()=>{class r extends y{constructor(e,n,i,s){super(e,n,i,s),this.steps=new t.n_E,this.animationDone=new t.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new z.xQ;const a=i.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===a?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe((0,O.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,Yt.x)((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),(0,O.R)(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Y.Is,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(d.K0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,n,i){if(1&e&&(t.Suo(i,pt,5),t.Suo(i,de,5)),2&e){let s;t.iGM(s=t.CRH())&&(n._steps=s),t.iGM(s=t.CRH())&&(n._icons=s)}},viewQuery:function(e,n){if(1&e&&t.Gf(lt,5),2&e){let i;t.iGM(i=t.CRH())&&(n._stepHeader=i)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(e,n){2&e&&(t.uIk("aria-orientation",n.orientation),t.ekj("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition))},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition",disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[t._Bn([{provide:y,useExisting:r},{provide:ue,useExisting:r},{provide:ge,useExisting:r}]),t.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,n){1&e&&(t.ynx(0,0),t.YNc(1,re,5,2,"ng-container",1),t.YNc(2,oe,2,1,"ng-container",1),t.BQk(),t.YNc(3,se,1,23,"ng-template",null,2,t.W1O)),2&e&&(t.Q6J("ngSwitch",n.orientation),t.xp6(1),t.Q6J("ngSwitchCase","horizontal"),t.xp6(1),t.Q6J("ngSwitchCase","vertical"))},directives:[d.RF,d.n9,d.sg,d.tP,d.O5,lt],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[dt.horizontalStepTransition,dt.verticalStepTransition]},changeDetection:0}),r})(),_e=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[ce,m.rD],imports:[[m.BQ,d.ez,Q.eL,yt.ot,Tt,at,m.si],m.BQ]}),r})();const me=function(r){return{"col-md-8":r}};function he(r,o){if(1&r&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t.TgZ(3,"label"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",13),t.TgZ(6,"h4",7),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const e=o.$implicit,n=o.index,i=t.oxw();t.Q6J("ngClass",t.VKq(3,me,n==i.order.length-1)),t.xp6(4),t.Oqu(e.text),t.xp6(3),t.Oqu(e.value)}}function fe(r,o){if(1&r&&t._uU(0),2&r){const e=t.oxw().index;t.hij("Stage ",e+1," ")}}function ve(r,o){1&r&&t._UZ(0,"img",21)}function xe(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mat-step"),t.YNc(1,fe,1,1,"ng-template",14),t.TgZ(2,"div",15),t.TgZ(3,"div",16),t.TgZ(4,"label",17),t._uU(5,"Stage name:"),t.qZA(),t.qZA(),t.TgZ(6,"div",16),t.TgZ(7,"h4",7),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",15),t.TgZ(10,"div",16),t.TgZ(11,"label",17),t._uU(12,"Default execution time:"),t.qZA(),t.qZA(),t.TgZ(13,"div",16),t.TgZ(14,"h4",7),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"div",16),t.TgZ(18,"label",17),t._uU(19,"Mandatory:"),t.qZA(),t.qZA(),t.TgZ(20,"div",16),t.TgZ(21,"h4",7),t._uU(22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",15),t.TgZ(24,"div",16),t.TgZ(25,"label",17),t._uU(26,"Note:"),t.qZA(),t.qZA(),t.TgZ(27,"div",16),t.TgZ(28,"h4",7),t._uU(29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"button",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().stageDone(s)}),t._UZ(31,"img",19),t._uU(32," Done "),t.YNc(33,ve,1,0,"img",20),t.qZA(),t.qZA()}if(2&r){const e=o.$implicit,n=t.oxw();t.xp6(8),t.Oqu(e.stage.name),t.xp6(7),t.hij("",e.stage.period," Days"),t.xp6(7),t.Oqu(e.stage.is_required?"yes":"no"),t.xp6(7),t.Oqu(e.stage.note),t.xp6(1),t.Q6J("disabled",e.is_done),t.xp6(3),t.Q6J("ngIf",n.loading)}}let Se=(()=>{class r{constructor(e,n,i){this._activatedRoute=e,this._orderService=n,this._SwalService=i,this.loading=!1,this.order=[{text:"Order Number :",value:"023456"},{text:"Order Name :",value:"Almahbba pastries"},{text:"Customer :",value:"Abo abdo"},{text:"Category :",value:"Offset printing"},{text:"Product :",value:"Business Card"},{text:"Dimensions :",value:"9 cm * 5 cm"},{text:"Count :",value:"1000"},{text:"Note:",value:""}]}ngOnInit(){this.subscripeRoute()}subscripeRoute(){this._activatedRoute.params.subscribe(e=>{this.orderId=+e.orderId,this.fetchOrderById()})}fetchOrderById(){this._orderService.infoOrder(this.orderId).subscribe(e=>{console.log(e.data),this.order[0].value=e.data.number,this.order[1].value=e.data.name,this.order[2].value=e.data.customer.name,this.order[3].value=e.data.product.category.name,this.order[4].value=e.data.product.name,this.order[5].value=e.data.langth+" cm * "+e.data.width+" cm",this.order[6].value=e.data.count,this.order[7].value=e.data.note,this.stageOrders=e.data.stage_order})}stageDone(e){this.loading=!0,this._orderService.updateStageDone(e.id).pipe((0,b.x)(()=>this.loading=!1)).subscribe(()=>{this.stageOrders.find(n=>{n==e&&(n.is_done=!0,this._SwalService.success("stage "+e.stage.name+" has been done successfuly"))})},n=>{460==n.status&&this._SwalService.error(e.stage.name,"There is a stage must be done before this!")})}showError(e){F().fire({icon:"error",title:"Oops..."+e.stage.name,text:"There is a stage must be done before this!"})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(x.gz),t.Y36(M),t.Y36(ft.J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-detail"]],decls:12,vars:2,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[2,"margin-left","12rem","margin-top","6rem"],[1,"card","p-4",2,"border-radius","25px"],[1,"row"],["class","col-md-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-3",2,"margin-left","12rem"],[1,"fw-bolder"],["orientation","vertical"],[4,"ngFor","ngForOf"],[1,"col-md-4",3,"ngClass"],[1,"row",2,"align-items","baseline"],[1,"col-md-5"],[1,"col-md-7"],["matStepLabel",""],[1,"d-flex","flex-row","align-items-baseline"],[1,"p-2"],["for",""],[1,"btn","btn-success",3,"disabled","click"],["src","assets/action-data/edit W.svg","width","20"],["width","30","src","assets/Spinner-1s-257px.svg",4,"ngIf"],["width","30","src","assets/Spinner-1s-257px.svg"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Order > Info"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.YNc(6,he,8,5,"div",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"section",6),t.TgZ(8,"h1",7),t._uU(9,"Stages Details:"),t.qZA(),t.TgZ(10,"mat-stepper",8),t.YNc(11,xe,34,6,"mat-step",9),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.order),t.xp6(5),t.Q6J("ngForOf",n.stageOrders))},directives:[d.sg,gt,d.mk,pt,U,d.O5],styles:[".card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}.spinner[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%;top:50%;z-index:1000}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}mat-stepper[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px;border-radius:25px}[_nghost-%COMP%]     mat-step-header .mat-step-icon-selected, .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background:#198754!important}"]}),r})();var l=c(3679),h=c(171),Ze=c(9357),Ce=c(221),$=c(6215);let V=(()=>{class r{constructor(){this.extraStages=new $.X([]),this.categorySelected=new $.X(null),this.toogelExtraStage=new $.X(!1)}getStages(){return this.extraStages.asObservable()}setStages(e){this.extraStages.next(e)}getCategory(){return this.categorySelected.asObservable()}setCategory(e){this.clearStages(),this.categorySelected.next(e)}getActiveExtra(){return this.toogelExtraStage.asObservable()}setActiveExtra(e){this.toogelExtraStage.next(e)}clearStages(){this.extraStages.next([])}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var _t=c(4885);function be(r,o){1&r&&t._UZ(0,"img",60)}function Te(r,o){if(1&r&&(t.TgZ(0,"option",61),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ye(r,o){if(1&r&&(t.TgZ(0,"option",61),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ae(r,o){1&r&&t._UZ(0,"mat-spinner")}function Me(r,o){1&r&&(t.ynx(0),t.TgZ(1,"option",62),t._uU(2,"Loading Items..."),t.qZA(),t.BQk())}function Oe(r,o){if(1&r&&(t.TgZ(0,"option",61),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ie(r,o){if(1&r&&(t.TgZ(0,"option",63),t._uU(1,"Choose Product"),t.qZA(),t.YNc(2,Oe,2,2,"option",26)),2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.products)}}function we(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",71),t.NdJ("input",function(){return t.CHM(e),t.oxw(3).calculate()}),t.qZA(),t.BQk()}}function qe(r,o){if(1&r&&(t.TgZ(0,"option",61),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.to),t.xp6(1),t.Oqu(e.to)}}function Fe(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",24),t.TgZ(1,"select",72),t.NdJ("change",function(){return t.CHM(e),t.oxw(3).calculate()}),t.TgZ(2,"option",63),t._uU(3,"Choose Count"),t.qZA(),t.YNc(4,qe,2,2,"option",26),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",e.counts)}}function Ee(r,o){1&r&&(t.TgZ(0,"div",53),t.TgZ(1,"label",73),t._uU(2,"Actual Count"),t.qZA(),t._UZ(3,"input",74),t.qZA())}function Ne(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",64),t.TgZ(1,"div",31),t.TgZ(2,"label",65),t._uU(3,"Count "),t.TgZ(4,"span",16),t._uU(5,"*"),t.qZA(),t.qZA(),t.YNc(6,we,2,0,"ng-container",34),t.YNc(7,Fe,5,1,"ng-template",null,66,t.W1O),t.qZA(),t.YNc(9,Ee,4,0,"div",67),t.TgZ(10,"div",56),t.TgZ(11,"div",57),t.TgZ(12,"input",68,69),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).toggleCustomProduct(i.target.checked)}),t.qZA(),t.TgZ(14,"label",70),t._uU(15,"Custom Product"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.MAs(8),n=t.MAs(13),i=t.oxw(2);t.xp6(6),t.Q6J("ngIf","direct"!=i.productSelect.pricing_type)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",n.checked)}}function ke(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",53),t.TgZ(1,"div",75),t.TgZ(2,"div",13),t.TgZ(3,"div",76),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",77),t.TgZ(7,"img",78),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).deleteExtra(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=o.$implicit;t.xp6(5),t.Oqu(e.extraStage.name)}}function Ue(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t._uU(2,"Order > Add"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"section",3),t.TgZ(5,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().Submit()}),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"button",7),t._UZ(9,"img",8),t.YNc(10,be,1,0,"img",9),t._uU(11," Submit "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"mat-accordion",10),t.TgZ(13,"mat-expansion-panel",11),t.TgZ(14,"mat-expansion-panel-header"),t.TgZ(15,"mat-panel-title"),t._uU(16," ORDER BASIC INFO "),t.qZA(),t.TgZ(17,"mat-panel-description",12),t.TgZ(18,"mat-icon"),t._uU(19,"info"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"div",14),t.TgZ(22,"label",15),t._uU(23,"Order Number "),t.TgZ(24,"span",16),t._uU(25,"*"),t.qZA(),t.qZA(),t._UZ(26,"input",17),t.qZA(),t.TgZ(27,"div",14),t.TgZ(28,"label",15),t._uU(29,"Order Name "),t.TgZ(30,"span",16),t._uU(31,"*"),t.qZA(),t.qZA(),t._UZ(32,"input",17),t.qZA(),t.qZA(),t.TgZ(33,"div",13),t.TgZ(34,"div",18),t.TgZ(35,"label",19),t._uU(36,"Order Detail"),t.qZA(),t._UZ(37,"textarea",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"mat-expansion-panel",11),t.TgZ(39,"mat-expansion-panel-header"),t.TgZ(40,"mat-panel-title"),t._uU(41," ORDER PRODUCT "),t.qZA(),t.TgZ(42,"mat-panel-description",12),t.TgZ(43,"mat-icon"),t._uU(44,"production_quantity_limits"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",21),t.TgZ(46,"div",22),t.TgZ(47,"label",23),t._uU(48,"Customer "),t.TgZ(49,"span",16),t._uU(50,"*"),t.qZA(),t.qZA(),t.TgZ(51,"div",24),t.TgZ(52,"select",25),t.NdJ("change",function(i){return t.CHM(e),t.oxw().selectCustomer(i.target.value)}),t.YNc(53,Te,2,2,"option",26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",27),t.TgZ(55,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().navigate()}),t._uU(56,"Add New +"),t.qZA(),t.qZA(),t.TgZ(57,"div",14),t.TgZ(58,"label",29),t._uU(59,"Category "),t.TgZ(60,"span",16),t._uU(61,"*"),t.qZA(),t.qZA(),t.TgZ(62,"div",24),t.TgZ(63,"select",30),t.NdJ("change",function(i){return t.CHM(e),t.oxw().fetchProductsById(i.target.value)}),t.YNc(64,ye,2,2,"option",26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",13),t.TgZ(66,"div",31),t.TgZ(67,"label",32),t._uU(68,"Product "),t.TgZ(69,"span",16),t._uU(70,"*"),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.YNc(72,Ae,1,0,"mat-spinner",0),t.TgZ(73,"select",33),t.NdJ("click",function(i){return t.CHM(e),t.oxw().showQuantityPrice(i.target.value)}),t.YNc(74,Me,3,0,"ng-container",34),t.YNc(75,Ie,3,1,"ng-template",null,35,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",36),t.TgZ(78,"label",37),t._uU(79,"Length "),t.TgZ(80,"span",16),t._uU(81,"*"),t.qZA(),t.qZA(),t.TgZ(82,"input",38),t.NdJ("input",function(){return t.CHM(e),t.oxw().calculate()}),t.qZA(),t.qZA(),t.TgZ(83,"div",36),t.TgZ(84,"label",39),t._uU(85,"Width "),t.TgZ(86,"span",16),t._uU(87,"*"),t.qZA(),t.qZA(),t.TgZ(88,"input",40),t.NdJ("input",function(){return t.CHM(e),t.oxw().calculate()}),t.qZA(),t.qZA(),t.qZA(),t.YNc(89,Ne,16,3,"div",41),t.qZA(),t.TgZ(90,"mat-expansion-panel",42),t.TgZ(91,"mat-expansion-panel-header"),t.TgZ(92,"mat-panel-title"),t._uU(93," ORDER EXTRA STAGES "),t.qZA(),t.TgZ(94,"mat-panel-description",12),t.TgZ(95,"mat-icon"),t._uU(96,"production_quantity_limits"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(97,"div",43),t.YNc(98,ke,8,1,"div",44),t.TgZ(99,"div",36),t.TgZ(100,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().activeExtraStage()}),t._uU(101,"+Add Extra Stages"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"mat-expansion-panel",11),t.TgZ(103,"mat-expansion-panel-header"),t.TgZ(104,"mat-panel-title"),t._uU(105," ORDER CALCULATION "),t.qZA(),t.TgZ(106,"mat-panel-description",12),t.TgZ(107,"mat-icon"),t._uU(108,"calculate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"div",13),t.TgZ(110,"div",14),t.TgZ(111,"label",46),t._uU(112,"Discount"),t.qZA(),t.TgZ(113,"div",47),t.TgZ(114,"input",48),t.NdJ("input",function(){return t.CHM(e),t.oxw().calculate()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(115,"div",14),t.TgZ(116,"label",49),t._uU(117,"Deposit"),t.qZA(),t.TgZ(118,"input",50),t.NdJ("input",function(){return t.CHM(e),t.oxw().calculate()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(119,"div",21),t.TgZ(120,"div",31),t.TgZ(121,"label",51),t._uU(122,"Total Amount "),t.TgZ(123,"span",16),t._uU(124,"*"),t.qZA(),t.qZA(),t._UZ(125,"input",52),t.qZA(),t.TgZ(126,"div",53),t.TgZ(127,"label",54),t._uU(128,"The Rest"),t.qZA(),t._UZ(129,"input",55),t.qZA(),t.TgZ(130,"div",56),t.TgZ(131,"div",57),t._UZ(132,"input",58),t.TgZ(133,"label",59),t._uU(134,"Design Fee"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=t.MAs(76),n=t.oxw();t.xp6(5),t.Q6J("formGroup",n.orderForm),t.xp6(5),t.Q6J("ngIf",n.loading),t.xp6(2),t.Q6J("multi",!0),t.xp6(1),t.Q6J("expanded",!0),t.xp6(25),t.Q6J("expanded",!0),t.xp6(15),t.Q6J("ngForOf",n.customers),t.xp6(11),t.Q6J("ngForOf",n.categories),t.xp6(8),t.Q6J("ngIf",n.loadingItems),t.xp6(1),t.Q6J("disabled",n.loadingItems),t.xp6(1),t.Q6J("ngIf",n.loadingItems)("ngIfElse",e),t.xp6(15),t.Q6J("ngIf",null!=n.productSelect),t.xp6(1),t.Q6J("disabled",null==n.productSelect),t.xp6(8),t.Q6J("ngForOf",n.extraStages),t.xp6(4),t.Q6J("expanded",!0)}}let De=(()=>{class r{constructor(e,n,i,s,a,p){this._customer=e,this._category=n,this.fb=i,this._router=s,this._orderService=a,this._orderStage=p,this.discountInternal=0,this.loading=!1,this.productIdSelected=0,this.productSelect=null,this.loadingItems=!1,this.showOrHide=!0,this.extraStages=[]}ngOnInit(){this.fetchData(),this.initialForm()}initialForm(){this.orderForm=this.fb.group({number:[null,l.kI.required],name:[null,l.kI.required],langth:[{value:0,disabled:!0},l.kI.required],width:[{value:0,disabled:!0},l.kI.required],count:[null,l.kI.required],amount:[null,l.kI.nullValidator],finale_amount:[0],deposit:[0,l.kI.nullValidator],residual:[0,l.kI.required],product_id:[null,l.kI.required],customer_id:[null,l.kI.required],category_id:[null,l.kI.required],discount:[null,l.kI.nullValidator],without_design:[null,l.kI.nullValidator],note:[null],is_custom:[null,l.kI.nullValidator],custom_count:[0,l.kI.nullValidator]})}fetchData(){this.fetchCustomers(),this.fetchCategories(),this.fetchActivated(),this.fetchExtraStages()}fetchExtraStages(){this._orderStage.getStages().subscribe(e=>{this.extraStages=e,console.log(e)})}fetchActivated(){this._orderStage.getActiveExtra().subscribe(e=>this.showOrHide=e)}fetchCustomers(){this.customerSelected=null,this._customer.getAllCustomers().subscribe(e=>this.customers=e.data.data.slice())}fetchCategories(){this._category.getAllCategories().subscribe(e=>this.categories=e.data.slice())}fetchProductsById(e){this._orderStage.setCategory(this.categories.find(n=>n.id==+e)),this.loadingItems=!0,this._orderStage.clearStages(),this._category.infoCat(e).pipe((0,b.x)(()=>this.loadingItems=!1)).subscribe(n=>{this.products=[],this.counts=[],this.orderForm.patchValue({langth:0,width:0,product_id:null,count:null,amount:null,custom_count:0}),this.productSelect=null,this.calculate(),n.data.customer.forEach(a=>{null!=this.customerSelected&&a.id==this.customerSelected.id&&(this.discountInternal=a.discount)}),n.data.products.forEach(a=>{this.products.push({id:a.id,name:a.name,quantity_price:JSON.parse(String(a.quantity_price)),category_id:a.category_id,description:a.description,length:a.length,period:a.period,price:a.price,width:a.width,category:a.category,pricing_type:a.pricing_type})})})}showQuantityPrice(e){""!=e&&(this.productIdSelected=+e,this.productSelect=this.products.find(n=>n.id==this.productIdSelected),this.counts=[],this.counts=this.productSelect.quantity_price,"space"==this.productSelect.pricing_type?(this.orderForm.get("langth").enable(),this.orderForm.get("width").enable()):(this.orderForm.get("langth").disable(),this.orderForm.get("width").disable()),this.orderForm.patchValue({langth:this.productSelect.length,width:this.productSelect.width}))}selectCustomer(e){this.customerSelected=this.customers.find(n=>n.id==e?n:null),this.orderForm.patchValue({langth:0,width:0,product_id:null,count:null,amount:null,category_id:null,custom_count:0}),this.discountInternal=0,this.productSelect=null,this.calculate(),this.counts=[],this.products=[]}calculate(){var e=this.orderForm.controls.discount.value;this.orderForm.patchValue({amount:null==this.productSelect?0:this.calculateAmount()});var n=+this.orderForm.controls.amount.value;console.log("Amount = "+n);var i=+this.orderForm.controls.deposit.value,s=this.orderForm.get("finale_amount");this.orderForm.get("residual"),i>this.orderForm.get("finale_amount").value&&(i=this.orderForm.get("finale_amount").value,this.orderForm.patchValue({deposit:i})),console.log("Discount Internal: "+this.discountInternal),this.orderForm.patchValue({finale_amount:s=n-n*((null==e?this.discountInternal:+e)/100),residual:s-i})}calculateAmount(){var e=+this.orderForm.get("count").value;if(console.log("Count = "+e),"direct"==this.productSelect.pricing_type)return this.productSelect.quantity_price.find(a=>a.to==e).price;if("piece"==this.productSelect.pricing_type)return this.orderForm.get("langth").enable(),this.orderForm.get("width").enable(),this.productSelect.quantity_price.sort(a=>a.from).find(a=>a.from<=e&&a.to>=e).price*e;var s=+this.orderForm.get("langth").value*+this.orderForm.get("width").value;return this.productSelect.quantity_price.sort(a=>a.from).find(a=>a.from<=e&&a.to>=e).price*e*s}Submit(){var e=this.orderForm.get("langth").disabled;console.log(this.orderForm),this.orderForm.valid&&(this.orderForm.patchValue({without_design:"yes"==this.orderForm.get("without_design").value,is_custom:"yes"==this.orderForm.get("is_custom").value}),e&&(this.orderForm.get("langth").enable(),this.orderForm.get("width").enable()),this._orderService.addOrder(this.orderForm.value).subscribe(n=>{this._router.navigate(["/order/all"])},n=>{e||(this.orderForm.get("langth").disable(),this.orderForm.get("width").disable())}))}toggleCustomProduct(e){if(e||"space"==this.productSelect.pricing_type)this.orderForm.controls.langth.enable(),this.orderForm.controls.width.enable();else if(this.orderForm.controls.langth.disable(),this.orderForm.controls.width.disable(),null!=this.products){var n=this.products.find(i=>i);this.orderForm.patchValue({langth:n.length,width:n.width})}}navigate(){this._router.navigate(["/customer/form"])}activeExtraStage(){this._orderStage.setActiveExtra(!0)}deleteExtra(e){this.extraStages.splice(e,1),this._orderStage.setStages(this.extraStages)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ze.v),t.Y36(Ce.H),t.Y36(l.qu),t.Y36(x.F0),t.Y36(M),t.Y36(V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-form"]],viewQuery:function(e,n){if(1&e&&t.Gf(h.pp,5),2&e){let i;t.iGM(i=t.CRH())&&(n.accordion=i.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[2,"margin-left","12rem","margin-top","6rem"],[3,"formGroup","ngSubmit"],[1,"d-flex","flex-row-reverse"],[1,"p-2"],[1,"btn","btn-success"],["src","assets/action-data/save.svg","width","20"],["width","30","src","assets/Spinner-1s-257px.svg","alt","",4,"ngIf"],[1,"example-headers-align","mt-3","mb-4","col-md-4",2,"position","relative",3,"multi"],[3,"expanded"],[1,"d-flex","justify-content-end"],[1,"row"],[1,"col-md-6"],["for","number"],[1,"text-danger"],["type","text","id","number","formControlName","number",1,"form-control"],[1,"col-md-12","mt-3"],["for","detail"],["formControlName","note","name","detail","id","detail","cols","30","rows","3",1,"form-control"],[1,"row","align-items-end","d-flex"],[1,"col-md-4"],["for","customer"],[1,"select-arrow"],["name","","id","customer","formControlName","customer_id",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"btn","btn-primary",3,"click"],["for","category"],["name","","id","category","formControlName","category_id",1,"form-control",3,"change"],[1,"col-md-6","mt-3"],["for","product"],["name","product","id","product","formControlName","product_id",1,"form-control",3,"disabled","click"],[4,"ngIf","ngIfElse"],["elseLoaded",""],[1,"col-md-3","mt-3"],["for","length"],["min","0","type","number","formControlName","langth","id","length",1,"form-control",3,"input"],["for","width"],["min","0","type","number","formControlName","width","id","width",1,"form-control",3,"input"],["class","row align-items-end",4,"ngIf"],[3,"disabled"],[1,"row","align-items-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["for","discount"],[1,"discount-percent"],["minlength","0","maxlength","100","max","100","min","0","type","number","formControlName","discount","id","discount",1,"form-control",3,"input"],["for","deposit"],["min","0","type","number","formControlName","deposit","id","deposit",1,"form-control",3,"input"],["for","amount"],["min","0","type","number","disabled","","id","amount","formControlName","finale_amount",1,"form-control"],[1,"col-md-4","mt-3"],["for","residual"],["disabled","","min","0","type","number","formControlName","residual","id","residual",1,"form-control"],[1,"col-md-2","mt-3"],[1,"form-check"],["type","checkbox","id","is_charge","name","is_charge","formControlName","without_design","value","yes",1,"form-check-input"],["for","is_charge",1,"form-check-label"],["width","30","src","assets/Spinner-1s-257px.svg","alt",""],[3,"value"],["selected","","hidden",""],["hidden","","selected",""],[1,"row","align-items-end"],["for","count"],["elseTemplate",""],["class","col-md-4 mt-3",4,"ngIf"],["formControlName","is_custom","type","checkbox","id","custom_product","name","custom_product","value","yes",1,"form-check-input",3,"click"],["customProduct",""],["for","custom_product",1,"form-check-label"],["type","number","formControlName","count","name","count","id","count","min","1",1,"form-control",3,"input"],["name","","id","count","formControlName","count",1,"form-control",3,"change"],["for","actual_count"],["type","number","min","1","name","actual_count","id","actual_count","formControlName","custom_count",1,"form-control"],[1,"card","p-2"],[1,"col-md-9"],[1,"col-md-3"],["mat-raised-button","","matTooltip","delete","matTooltipPosition","above","src","assets/action-data/delete.svg","width","23",1,"cursor-pointer","mt-3",3,"click"]],template:function(e,n){1&e&&t.YNc(0,Ue,135,15,"ng-container",0),2&e&&t.Q6J("ngIf",!n.showOrHide)},directives:[d.O5,l._Y,l.JL,l.sg,h.pp,h.ib,h.yz,h.yK,h.u4,st,l.Fj,l.JJ,l.u,l.EJ,d.sg,l.qQ,l.wV,l.Fd,l.wO,l.nD,l.Wl,l.YN,l.Kr,_t.$g],styles:['@charset "UTF-8";label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}.select-arrow[_ngcontent-%COMP%]{position:relative}.select-arrow[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.select-arrow[_ngcontent-%COMP%]:after{position:absolute;top:9px;right:24px;content:"\\25b6";transform:rotate(90deg)}.discount-percent[_ngcontent-%COMP%]{position:relative}.discount-percent[_ngcontent-%COMP%]:after{position:absolute;top:9px;right:32px;content:"%"}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}mat-expansion-panel[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px}[_nghost-%COMP%]     mat-spinner{width:25px!important;height:25px!important;position:absolute!important;top:7px!important;right:43px!important}[_nghost-%COMP%]     mat-spinner svg{width:25px!important;height:25px!important}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#000!important}.card[_ngcontent-%COMP%]{border-radius:20px!important}']}),r})();function Re(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"div",13),t.TgZ(3,"label",15),t._uU(4,"Length "),t.TgZ(5,"span",16),t._uU(6,"*"),t.qZA(),t.qZA(),t.TgZ(7,"input",17),t.NdJ("input",function(i){return t.CHM(e),t.oxw().$implicit.lengthCustom=i.target.value}),t.qZA(),t.qZA(),t.TgZ(8,"div",13),t.TgZ(9,"label",18),t._uU(10,"Width "),t.TgZ(11,"span",16),t._uU(12,"*"),t.qZA(),t.qZA(),t.TgZ(13,"input",17),t.NdJ("input",function(i){return t.CHM(e),t.oxw().$implicit.widthCustom=i.target.value}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",12),t.TgZ(15,"div",19),t.TgZ(16,"label",20),t._uU(17,"Count"),t.qZA(),t.TgZ(18,"input",17),t.NdJ("input",function(i){return t.CHM(e),t.oxw().$implicit.countCustom=i.target.value}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(7),t.Q6J("disabled",n.disableStage(e)),t.xp6(6),t.Q6J("disabled",n.disableStage(e)),t.xp6(5),t.Q6J("disabled",n.disableStage(e))}}function Pe(r,o){if(1&r&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.to),t.xp6(1),t.Oqu(e.to)}}function Je(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"div",19),t.TgZ(3,"label",20),t._uU(4,"Count"),t.qZA(),t.TgZ(5,"select",22),t.NdJ("change",function(i){return t.CHM(e),t.oxw(2).$implicit.countCustom=i.target.value}),t.TgZ(6,"option",23),t._uU(7,"Choose Count"),t.qZA(),t.YNc(8,Pe,2,2,"option",24),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(5),t.Q6J("disabled",n.disableStage(e)),t.xp6(3),t.Q6J("ngForOf",e.quantity_price)}}function Qe(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",19),t.TgZ(2,"label",20),t._uU(3,"Count"),t.qZA(),t.TgZ(4,"input",17),t.NdJ("input",function(i){return t.CHM(e),t.oxw(2).$implicit.countCustom=i.target.value}),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(4),t.Q6J("disabled",n.disableStage(e))}}function Ye(r,o){if(1&r&&(t.YNc(0,Je,9,2,"ng-container",10),t.YNc(1,Qe,5,1,"ng-template",null,21,t.W1O)),2&r){const e=t.MAs(2),n=t.oxw().$implicit;t.Q6J("ngIf","direct"==n.pricing_type)("ngIfElse",e)}}function He(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"mat-accordion",9),t.TgZ(2,"mat-expansion-panel"),t.TgZ(3,"mat-expansion-panel-header"),t.TgZ(4,"mat-panel-title"),t.TgZ(5,"h2"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.YNc(7,Re,19,3,"ng-container",10),t.YNc(8,Ye,3,2,"ng-template",null,11,t.W1O),t.TgZ(10,"div",12),t.TgZ(11,"div",13),t.TgZ(12,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).chooseStage(s)}),t._uU(13,"Selected"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=o.$implicit,n=t.MAs(9),i=t.oxw(2);t.xp6(6),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf","space"==e.pricing_type)("ngIfElse",n),t.xp6(5),t.Q6J("disabled",i.disableStage(e))}}function ze(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"section"),t.TgZ(5,"div",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().deactivatedExtra()}),t._UZ(7,"img",5),t._uU(8," Add Selected "),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,He,14,4,"div",7),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("Order > Extra Stages > ",e.categorySelected.name,""),t.xp6(8),t.Q6J("ngForOf",e.dataSource)}}let Le=(()=>{class r{constructor(e,n){this._orderStage=e,this._extraStage=n,this.selectedStages=[],this.showOrHide=!1}ngOnInit(){this.fetchData(),this.fetchActivated(),this.fetchSelectedStages()}fetchSelectedStages(){this._orderStage.getStages().subscribe(e=>this.selectedStages=e)}fetchActivated(){this._orderStage.getActiveExtra().subscribe(e=>this.showOrHide=e)}fetchData(){this._orderStage.getCategory().subscribe(e=>{null!=e&&(this.categorySelected=e,console.log("Category : "+this.categorySelected),this._extraStage.getStagesByCategoryId(e.id).subscribe(n=>{this.dataSource=n.data,console.log(this.dataSource),this.dataSource.forEach(i=>{i.stageDisabled=!1,i.quantity_price=JSON.parse(String(i.quantity_price))})}))})}chooseStage(e){console.log("Stage:"),console.log(e),this.dataSource.forEach(s=>{s.id==e.id&&(s.stageDisabled=!0)});var n=0;if("space"==e.pricing_type){var i=e.lengthCustom*e.widthCustom;n=e.quantity_price.sort(s=>s.from).find(s=>s.from<=e.countCustom&&s.to>=e.countCustom).price*e.countCustom*i}else n="piece"==e.pricing_type?e.quantity_price.sort(s=>s.from).find(s=>s.from<=e.countCustom&&s.to>=e.countCustom).price*e.countCustom:e.quantity_price.find(s=>s.to==e.countCustom).price;this.selectedStages.push({extraStage:e,amount:n})}disableStage(e){return null!=this.selectedStages.find(n=>n.extraStage.id==e.id)}deactivatedExtra(){this._orderStage.setActiveExtra(!1),this._orderStage.setStages(this.selectedStages)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(V),t.Y36(u.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-select-extra-stage"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-success",3,"click"],["src","assets\\action-data\\save.svg","alt","check","width","23"],[1,"row"],["class","col-md-6 mt-3 extra-stage",4,"ngFor","ngForOf"],[1,"col-md-6","mt-3","extra-stage"],[1,"example-headers-align","mt-3","mb-1","col-md-4"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"row","mt-3"],[1,"col-md-6"],[1,"btn","btn-success",3,"disabled","click"],["for","length"],[1,"text-danger"],["type","number","min","1","required","",1,"form-control",3,"disabled","input"],["for","width"],[1,"col-md-12"],["for","count"],["elseTemplate2",""],["name","count","id","","required","",1,"form-control",3,"disabled","change"],["hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&t.YNc(0,ze,11,2,"ng-container",0),2&e&&t.Q6J("ngIf",n.showOrHide)},directives:[d.O5,d.sg,h.pp,h.ib,h.yz,h.yK,l.YN,l.Kr],styles:["label[_ngcontent-%COMP%]{margin-bottom:.5rem!important}"]}),r})(),Be=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-extra-stage"]],decls:2,vars:0,template:function(e,n){1&e&&(t._UZ(0,"app-order-form"),t._UZ(1,"app-select-extra-stage"))},directives:[De,Le],styles:[""]}),r})();var w=c(8603),Ge=c(627),mt=c(4256);function $e(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Group: "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.BQk()),2&r){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.group[0].name)}}function Ve(r,o){1&r&&(t.TgZ(0,"p"),t._uU(1,"Group: "),t.TgZ(2,"span"),t._uU(3,"not select"),t.qZA(),t.qZA())}const je=function(r,o){return[r,o]};function We(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"div",17),t.TgZ(2,"h2",29),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Product: "),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Customer: "),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.YNc(12,$e,5,1,"ng-container",20),t.YNc(13,Ve,4,0,"ng-template",null,30,t.W1O),t.qZA(),t.TgZ(15,"div",17),t._UZ(16,"apx-chart",31),t.qZA(),t.BQk()),2&r){const e=t.MAs(14),n=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.Oqu(n.name),t.xp6(4),t.Oqu(n.product.name),t.xp6(4),t.Oqu(n.customer.name),t.xp6(1),t.Q6J("ngIf",0!=n.group.length)("ngIfElse",e),t.xp6(4),t.Q6J("fill",i.chartOptions.fill)("series",t.WLB(10,je,n.percent,100-n.percent))("chart",i.chartOptions.chart)("labels",i.chartOptions.labels)("responsive",i.chartOptions.responsive)}}function Ke(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Group: "),t._UZ(3,"br"),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.BQk()),2&r){const e=t.oxw(2).$implicit;t.xp6(5),t.Oqu(e.group[0].name)}}function Xe(r,o){1&r&&(t.TgZ(0,"p"),t._uU(1,"Group: "),t._UZ(2,"br"),t.TgZ(3,"span"),t._uU(4,"not select"),t.qZA(),t.qZA())}function tn(r,o){if(1&r&&(t.TgZ(0,"div",7),t.TgZ(1,"div",32),t.TgZ(2,"h2",29),t._uU(3),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"div",7),t.TgZ(5,"div",33),t.TgZ(6,"p"),t._uU(7,"Product: "),t._UZ(8,"br"),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",33),t.TgZ(12,"p"),t._uU(13,"Customer: "),t._UZ(14,"br"),t.TgZ(15,"span"),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",33),t.YNc(18,Ke,6,1,"ng-container",20),t.YNc(19,Xe,5,0,"ng-template",null,30,t.W1O),t.qZA(),t.qZA()),2&r){const e=t.MAs(20),n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(7),t.Oqu(n.product.name),t.xp6(6),t.Oqu(n.customer.name),t.xp6(2),t.Q6J("ngIf",0!=n.group.length)("ngIfElse",e)}}function en(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"div",23),t.TgZ(2,"div",7),t.TgZ(3,"div",24),t.TgZ(4,"input",25),t.NdJ("click",function(i){const a=t.CHM(e).$implicit;return t.oxw().selectOrder(a,i.target.checked)}),t.qZA(),t.qZA(),t.TgZ(5,"div",26),t.TgZ(6,"div",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().nav(s.id)}),t.YNc(7,We,17,13,"ng-container",20),t.YNc(8,tn,21,5,"ng-template",null,28,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=o.$implicit,n=t.MAs(9),i=t.oxw();t.xp6(4),t.Q6J("hidden",i.isNotSelect&&0==e.group.length||0!=e.group.length),t.xp6(3),t.Q6J("ngIf",i.ChangeView)("ngIfElse",n)}}function nn(r,o){if(1&r&&(t.TgZ(0,"option",34),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function rn(r,o){1&r&&t._UZ(0,"img",36)}function on(r,o){if(1&r&&(t.ynx(0),t.YNc(1,rn,1,0,"img",35),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loading)}}function sn(r,o){1&r&&(t._UZ(0,"img",37),t._uU(1," Save "))}const an=[{path:"all",component:(()=>{class r{constructor(e,n,i,s){this._router=e,this._order=n,this._modalService=i,this._groupService=s,this.messageError="",this.initChart(),this.isNotSelect=!0,this.messageAddGroup="Select Orders",this.loading=!1,this.order_ids=[],this.ChangeView=!1}ngOnInit(){this.fetchData()}initChart(){this.chartOptions={fill:{colors:["#198754","#F3F3F3"]},chart:{width:170,type:"pie"},labels:["Completed","Not Completed"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}fetchData(){this.fetchAllOrder(),this.fetchGroups()}fetchGroups(){this._groupService.getAllGroupesNew().subscribe(e=>this.groups=e.data.slice())}fetchAllOrder(){this._order.getAllOrderes().subscribe(e=>{this.orders=e.data.slice(),this.orders.forEach(n=>{n.percent=Math.floor(101*Math.random())})})}selectOrder(e,n){n?this.order_ids.push(e.id):this.order_ids.find((i,s)=>{e.id==i&&this.order_ids.splice(s,1)}),console.log(this.order_ids)}SubmitGroup(e){this.messageError="",0!=this.order_ids.length?(this.loading=!0,this._groupService.addOrdersToGroup({order_ids:this.order_ids,group_id:e}).pipe((0,b.x)(()=>this.loading=!1)).subscribe(()=>{this.closeModal(),this._router.navigate(["/group/find",e])},i=>{460==i.status&&(this.messageError="there are an order is added before")})):this.messageError="please select order to add!"}selectOrders(e){this.messageError="",this.isNotSelect=!this.isNotSelect,this.messageAddGroup="Add Orders to Group",this.isNotSelect&&(this.Show(e),this.isNotSelect=!1)}Show(e){this.modalRef=this._modalService.open(e,{size:"md",modalClass:"mymodal",hideCloseButton:!1,centered:!1,backdrop:!0,animation:!0,keyboard:!1,closeOnOutsideClick:!0,backdropClass:"modal-backdrop"})}closeModal(){this._modalService.close(this.modalRef)}routeToAdd(){this._router.navigate(["order/form"])}nav(e){this._router.navigate(["order/find",e])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(x.F0),t.Y36(M),t.Y36(w.gk),t.Y36(Ge.l))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-main"]],decls:39,vars:7,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-success","mb-3","btn-add","ms-3",3,"click"],["r","",1,"btn","btn-primary","mb-3","btn-add","ms-3",3,"disabled","click"],[1,"btn","btn-secondary","h-100",3,"click"],["src","assets/action-data/list.svg"],[1,"row"],["class","col-md-6 mt-3",4,"ngFor","ngForOf"],["groupModal",""],["for"," "],[1,"test",2,"position","inherit"],[1,"select-arrow"],["id","type","required","",1,"form-control"],["groupId",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-danger"],[1,"col-md-6"],["type","button",1,"btn","btn-danger","w-100",3,"click"],["type","submit",1,"btn","btn-success","w-100",3,"click"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"col-md-6","mt-3"],[1,"card","p-2"],[1,"col-md-1"],["type","checkbox","name","is_charge","value","yes",1,"form-check-input","fs-3",3,"hidden","click"],[1,"col-md-11"],[1,"row","cursor-pointer","align-items-center",3,"click"],["elseSmallTemplate",""],[1,"fw-bold"],["elseTemplategroup",""],[3,"fill","series","chart","labels","responsive"],[1,"col-md-12"],[1,"col-md-4"],[3,"value"],["width","30","src","assets/Spinner-1s-257px.svg","alt","",4,"ngIf"],["width","30","src","assets/Spinner-1s-257px.svg","alt",""],["src","assets/action-data/save.svg","width","20"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",0),t._uU(1,"Order"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section"),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return n.routeToAdd()}),t._uU(6,"+ Add New Order"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(14);return n.selectOrders(a)}),t._uU(8),t.qZA(),t.TgZ(9,"button",5),t.NdJ("click",function(){return n.ChangeView=!n.ChangeView}),t._UZ(10,"img",6),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.YNc(12,en,10,3,"div",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"modal",null,9),t.TgZ(15,"modal-header"),t._uU(16," Group Modal "),t.qZA(),t.TgZ(17,"modal-content"),t.TgZ(18,"label",10),t._uU(19,"Select Group"),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"div",12),t.TgZ(22,"select",13,14),t.YNc(24,nn,2,2,"option",15),t.qZA(),t.qZA(),t.qZA(),t._UZ(25,"br"),t.TgZ(26,"div",7),t.TgZ(27,"div",16),t._uU(28),t.qZA(),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"div",7),t.TgZ(31,"div",17),t.TgZ(32,"button",18),t.NdJ("click",function(){return n.closeModal()}),t._uU(33,"X Cancel"),t.qZA(),t.qZA(),t.TgZ(34,"div",17),t.TgZ(35,"button",19),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(23);return n.SubmitGroup(a.value)}),t.YNc(36,on,2,1,"ng-container",20),t.YNc(37,sn,2,0,"ng-template",null,21,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const i=t.MAs(38);t.xp6(7),t.Q6J("disabled",!n.isNotSelect&&0==n.order_ids.length),t.xp6(1),t.Oqu(" + "+n.messageAddGroup),t.xp6(4),t.Q6J("ngForOf",n.orders),t.xp6(12),t.Q6J("ngForOf",n.groups),t.xp6(4),t.Oqu(n.messageError),t.xp6(8),t.Q6J("ngIf",n.loading)("ngIfElse",i)}},directives:[d.sg,w.zS,w.Rb,w.Ef,d.O5,mt.x,l.YN,l.Kr],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{margin-left:12rem;margin-top:6rem}.card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px;border-radius:25px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}.spinner[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%;top:50%;z-index:1000}#chart[_ngcontent-%COMP%]{max-width:380px;margin:35px auto;padding:0}[_nghost-%COMP%]     .apexcharts-legend, [_nghost-%COMP%]     .apexcharts-datalabels{display:none!important}.select-arrow[_ngcontent-%COMP%]{position:relative}.select-arrow[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.select-arrow[_ngcontent-%COMP%]:after{position:absolute;top:9px;right:24px;content:"\\25b6"}span[_ngcontent-%COMP%]{font-weight:bold}']}),r})()},{path:"form",component:Be},{path:"find/:orderId",component:Se}];let cn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[x.Bz.forChild(an)],x.Bz]}),r})(),ln=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[V],imports:[[d.ez,l.UX,l.u5,_e,mt.X,cn,w.zk,h.To,at,_t.Cq],x.Bz]}),r})()},221:(ht,q,c)=>{c.d(q,{H:()=>J});var d=c(205),x=c(5304),b=c(3927);class P extends b.s{constructor(_){super(_,"management/category")}readCategory(){return this.readEntities(void 0,"/all")}createCategory(_){return this.createEntity(_,"/create")}deleteCategory(_){return this.deleteEntity(_,void 0,"/delete")}updateCategory(_,u){return this.updateQueryEntity(u,"/update/"+_)}infoCategory(_){return this.readEntity(_,"/find")}}var F=c(7716),t=c(1841);let J=(()=>{class f{constructor(u){this.categoryActions=new P(u)}getAllCategories(){return this.categoryActions.readCategory().pipe((0,x.K)(u=>(0,d._)(u)))}createCategory(u){return this.categoryActions.createCategory(u)}removeCat(u){return this.categoryActions.deleteCategory(u)}infoCat(u){return this.categoryActions.infoCategory(u)}updateCategory(u,M){return this.categoryActions.updateCategory(u,M)}}return f.\u0275fac=function(u){return new(u||f)(F.LFG(t.eN))},f.\u0275prov=F.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);