"use strict";(self.webpackChunklamasat=self.webpackChunklamasat||[]).push([[904],{904:(S,f,a)=>{a.r(f),a.d(f,{CustomerModule:()=>pt});var u=a(8583),n=a(3679),h=a(4655),m=a(7238),p=a(8939),T=a(6058),A=a(249),g=a(959),t=a(7716),d=a(9357),q=a(221),F=a(6926),U=a(1238),N=a(7458),I=a(1822),D=a(1988),_=a(171),O=a(6627),M=a(743),w=a(4885),v=a(8295),J=a(9983),P=a(1095),Z=a(3220),k=a(4561),Y=a(9692),x=a(1494),y=a(5058);function Q(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().Submit()}),t._UZ(2,"img",51),t._uU(3," Edit "),t.qZA(),t.BQk()}}function j(i,s){1&i&&(t.ynx(0),t._UZ(1,"img",55),t.BQk())}function E(i,s){1&i&&t._uU(0," Save ")}function z(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().Submit()}),t._UZ(1,"img",53),t.YNc(2,j,2,0,"ng-container",4),t.YNc(3,E,1,0,"ng-template",null,54,t.W1O),t.qZA()}if(2&i){const e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.loading)("ngIfElse",e)}}function B(i,s){1&i&&t._UZ(0,"mat-spinner")}function R(i,s){if(1&i&&(t.TgZ(0,"option",56),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function V(i,s){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function H(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"input",59),t.NdJ("change",function(r){return t.CHM(e),t.oxw().$implicit.discount=r.target.value}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("value",e.discount)("disabled",o.isDisabled)}}function $(i,s){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,V,2,1,"td",17),t.YNc(2,H,2,2,"td",17),t.qZA()),2&i){const e=s.index,o=t.oxw(2);t.Q6J("@in",o.DataState),t.xp6(1),t.Q6J("ngIf",e<o.categories.length/2),t.xp6(1),t.Q6J("ngIf",e<o.categories.length/2)}}function G(i,s){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function W(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"input",59),t.NdJ("change",function(r){return t.CHM(e),t.oxw().$implicit.discount=r.target.value}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("value",e.discount)("disabled",o.isDisabled)}}function L(i,s){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,G,2,1,"td",17),t.YNc(2,W,2,2,"td",17),t.qZA()),2&i){const e=s.index,o=t.oxw(2);t.Q6J("@in",o.DataState),t.xp6(1),t.Q6J("ngIf",e>=o.categories.length/2),t.xp6(1),t.Q6J("ngIf",e>=o.categories.length/2)}}function X(i,s){if(1&i&&(t.TgZ(0,"div",12),t.TgZ(1,"div",11),t.TgZ(2,"div",25),t.TgZ(3,"table",57),t.TgZ(4,"thead"),t.TgZ(5,"th"),t._uU(6,"Categories"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Discount"),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,$,3,3,"tr",58),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",25),t.TgZ(12,"table",57),t.TgZ(13,"thead"),t.TgZ(14,"th"),t._uU(15,"Categories"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Discount"),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,L,3,3,"tr",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.categories),t.xp6(9),t.Q6J("ngForOf",e.categories)}}function K(i,s){1&i&&t._UZ(0,"ngx-skeleton-loader",90)}function tt(i,s){1&i&&(t.TgZ(0,"div",91),t.TgZ(1,"div",92),t._uU(2,"there is no DATA"),t.qZA(),t.qZA())}function et(i,s){if(1&i&&(t.TgZ(0,"div",93),t.TgZ(1,"div",94),t.TgZ(2,"div",65),t._uU(3),t.qZA(),t.TgZ(4,"div",65),t._uU(5),t.qZA(),t.TgZ(6,"div",95),t._uU(7),t.qZA(),t.TgZ(8,"div",95),t._uU(9),t.qZA(),t.TgZ(10,"div",95),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);t.Q6J("@in",o.DataStateOrders),t.xp6(3),t.Oqu(e.number),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.product?e.product.category.name:"empty"," "),t.xp6(2),t.hij(" ",e.product?e.product.name:"empty"," "),t.xp6(2),t.hij(" ",e.created_at," ")}}const ot=function(){return[5,10,25]};function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-accordion",6),t.TgZ(1,"mat-expansion-panel",7),t.TgZ(2,"mat-expansion-panel-header"),t.TgZ(3,"mat-panel-title",8),t._uU(4," Customer Archive Orders "),t.qZA(),t.TgZ(5,"mat-panel-description",9),t.TgZ(6,"mat-icon"),t._uU(7,"add_shopping_cart"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",60),t.TgZ(9,"div",61),t.TgZ(10,"mat-form-field",62),t.TgZ(11,"mat-label"),t._uU(12,"Search Order"),t.qZA(),t.TgZ(13,"input",63),t.NdJ("keyup.enter",function(r){return t.CHM(e),t.oxw().searchOrder(r.target)}),t.qZA(),t.TgZ(14,"mat-hint"),t._uU(15,"Press Enter to search"),t.qZA(),t.TgZ(16,"mat-icon",64),t._uU(17,"search"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",65),t.TgZ(19,"button",66),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.DataFilterState="in"==r.DataFilterState?"out":"in"}),t._uU(20," Advance Search "),t.TgZ(21,"mat-icon",64),t._uU(22,"settings_input_component"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",67),t.TgZ(24,"div",11),t.TgZ(25,"div",35),t.TgZ(26,"mat-form-field",62),t.TgZ(27,"mat-label"),t._uU(28,"Date Range"),t.qZA(),t.TgZ(29,"mat-date-range-input",68),t._UZ(30,"input",69),t._UZ(31,"input",70),t.qZA(),t._UZ(32,"mat-datepicker-toggle",71),t._UZ(33,"mat-date-range-picker",null,72),t.qZA(),t.qZA(),t.TgZ(35,"div",35),t.TgZ(36,"mat-form-field",62),t.TgZ(37,"mat-label"),t._uU(38,"Order Name"),t.qZA(),t._UZ(39,"input",73),t.qZA(),t.qZA(),t.TgZ(40,"div",35),t.TgZ(41,"mat-form-field",62),t.TgZ(42,"mat-label"),t._uU(43,"Order Number"),t.qZA(),t._UZ(44,"input",74),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",75),t.TgZ(46,"div",12),t.TgZ(47,"app-input-chips",76),t.NdJ("selectedItems",function(r){return t.CHM(e),t.oxw().selectedCategories=r}),t.qZA(),t.qZA(),t.TgZ(48,"div",12),t.TgZ(49,"app-input-chips",77),t.NdJ("selectedItems",function(r){return t.CHM(e),t.oxw().selectedProducts=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",75),t.TgZ(51,"div",61),t.TgZ(52,"mat-form-field",62),t.TgZ(53,"mat-label"),t._uU(54,"Order Note"),t.qZA(),t._UZ(55,"textarea",78),t.qZA(),t.qZA(),t.TgZ(56,"div",65),t.TgZ(57,"button",79),t.NdJ("click",function(){return t.CHM(e),t.oxw().filterOrders()}),t._uU(58," Get Data "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"mat-paginator",80),t.NdJ("page",function(r){return t.CHM(e),t.oxw().filterOrders(r.pageSize,r.pageIndex+1)}),t.qZA(),t.TgZ(60,"div",81),t.NdJ("matSortChange",function(r){return t.CHM(e),t.oxw().sortData(r)}),t.TgZ(61,"div",11),t.TgZ(62,"div",82),t._uU(63," Order Number "),t.qZA(),t.TgZ(64,"div",83),t._uU(65," Order Name "),t.qZA(),t.TgZ(66,"div",84),t._uU(67," Category "),t.qZA(),t.TgZ(68,"div",85),t._uU(69," Product "),t.qZA(),t.TgZ(70,"div",86),t._uU(71," Date "),t.qZA(),t.qZA(),t.YNc(72,K,1,0,"ngx-skeleton-loader",87),t.YNc(73,tt,3,0,"div",88),t.YNc(74,et,12,6,"div",89),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(34),o=t.oxw();t.Q6J("multi",!0),t.xp6(1),t.Q6J("expanded",!0),t.xp6(22),t.Q6J("formGroup",o.filterForm)("@slideInOut",o.DataFilterState),t.xp6(6),t.Q6J("rangePicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(15),t.Q6J("elements",o.allCategories),t.xp6(2),t.Q6J("elements",o.allProducts),t.xp6(10),t.Q6J("length",o.lengthDATA)("pageSize",10)("pageSizeOptions",t.DdM(14,ot)),t.xp6(13),t.Q6J("ngIf",o.loadingItems),t.xp6(1),t.Q6J("ngIf",0==o.lengthDATA&&!o.loadingItems),t.xp6(1),t.Q6J("ngForOf",o.sortedData)}}let b=(()=>{class i{constructor(e,o,r,c,l,gt,ht,ft,_t,Zt){this._formBuilder=e,this._customerService=o,this._activatedRoute=r,this._categoryService=c,this._helperService=l,this._orderService=gt,this._productService=ht,this._validationService=ft,this._router=_t,this._userService=Zt,this.loading=!1,this.formSubmit=!1,this.type=["partner","big","small","direct","distribution"],this.categories=[],this.activeCategories=!1,this.DataState="void",this.DataStateOrders="void",this.DataFilterState="out",this.part="Add",this.headers=["Number","Name","Customer","Category","Product"],this.types=[{name:"partner"},{name:"big"},{name:"small"},{name:"direct"},{name:"distribution"}],this.loadingItems=!1,this.dataSource=[],this.sortedData=this.dataSource.slice(),this.selectedCategories=[],this.selectedCustomerTypes=[],this.selectedCustomers=[],this.selectedProducts=[],this.lastWeek=this._helperService.formatDate(this._helperService.modifyDate(new Date,7,!1),!1),this.today=this._helperService.formatDate(new Date,!1),this.loadingRequestNew=!1}ngOnInit(){this.fetchData(),this.subscribeRoute(),this.initialControls()}initialControls(){this.initialForm(),this.initSearchForm(),this.initFilterForm(),this.initialValueForm()}fetchData(){this.fetchCategoryCustomerDiscount(),this.fetchProducts(),this.fetchCategories(),this.fetchNewCustomerName()}fetchNewCustomerName(){this.loadingRequestNew=!0,this._userService.getNewNamesModel(T.i.customer).pipe((0,p.x)(()=>this.loadingRequestNew=!1)).subscribe(e=>this.customerForm.patchValue({serial:e.data}))}fetchOrders(){this.loadingItems=!0;var e=new FormData;e.append("from_date",this.lastWeek),e.append("to_date",this.today),e.append("limit","10"),e.append("page","1"),e.append("customer_ids[]",this.customerId.toString()),this._orderService.getOrdersPagination(e).pipe((0,p.x)(()=>this.loadingItems=!1)).subscribe(o=>{var r=o.data.data;this.lengthDATA=o.data.total,this.dataSource=r.map(this._helperService.ReadDateClearly),this.sortedData=this.dataSource.slice()})}fetchProducts(){this._productService.getAllProducts().subscribe(e=>this.allProducts=e.data)}fetchCategories(){this._categoryService.getAllCategories().subscribe(e=>this.allCategories=e.data)}fetchCategoryCustomerDiscount(){this._categoryService.getAllCategories().subscribe(e=>{this.categories=[],this.DataState="in",e.data.forEach(o=>{this.categories.push({category_id:o.id,name:o.name,discount:0})})})}subscribeRoute(){this._activatedRoute.params.subscribe(e=>{this.customerId=+e.customerId,this.isUpdated=null!=e.customerId,this.isUpdated&&(this.customerId=+this.customerId,this.initialValueForm(),this.fetchOrders()),String(window.location.href).includes("form")&&!this.isUpdated?this.part="Add":String(window.location.href).includes("form")?(this.isDisabled=!1,this.customerForm.enable(),this.part="Edit"):(this.isDisabled=!0,this.customerForm.disable(),this.part="Info")})}initialValueForm(){this._customerService.getDetailsCustomer(this.customerId).subscribe(e=>{var o=e.data;this.categories=[],o.category.forEach(r=>{this.categories.push({category_id:r.category_id,name:r.name,discount:r.discount})}),"direct"!=o.type&&(this.DataState="in",this.activeCategories=!0),this.customerForm.patchValue({serial:o.serial,type:o.type,name:o.name,email:o.email,phone:o.phone,phone2:o.phone2,address:o.address,is_charge:o.is_charge?"yes":"no",note:o.note,categories:this.categories})})}initialForm(){this.customerForm=this._formBuilder.group({serial:[null,n.kI.required],type:[null,n.kI.required],name:[null,n.kI.required],note:[null,n.kI.nullValidator],email:[null,[n.kI.required,n.kI.email]],is_charge:[null,n.kI.required],phone:[null,n.kI.required],phone2:[null,n.kI.nullValidator],address:[null,n.kI.nullValidator],categories:[this.categories]}),this._validationService.formSubject.next({form:this.customerForm,submit:this.formSubmit}),this.formSubscripe=this.customerForm.valueChanges.subscribe(()=>{this._validationService.formSubject.next({form:this.customerForm,submit:this.formSubmit})})}initFilterForm(){this.filterForm=this._formBuilder.group({from_date:[this.lastWeek,n.kI.required],to_date:[this.today,n.kI.required],name:[null,n.kI.nullValidator],number:[null,n.kI.nullValidator],category_ids:[[],n.kI.nullValidator],product_ids:[[],n.kI.nullValidator],customer_ids:[[],n.kI.nullValidator],customer_type_ids:[null,n.kI.nullValidator],note:[null,n.kI.nullValidator],limit:[10,n.kI.required],page:[1,n.kI.required]})}initSearchForm(){this.searchForm=this._formBuilder.group({search_text:[null,n.kI.required]})}searchOrder(e){""!=e.value?(this.searchForm.patchValue({search_text:e.value}),this.loadingItems=!0,this._orderService.getOrderSearched(this.searchForm.value).pipe((0,p.x)(()=>this.loadingItems=!1)).subscribe(o=>{this.dataSource=o.data.data,this.sortedData=this.dataSource.slice()})):this.fetchOrders()}filterOrders(e=10,o=1){this.pipeFilterForm(e,o),this._orderService.getOrdersPagination(this.filterForm.value).pipe((0,p.x)(()=>this.loadingItems=!1)).subscribe(r=>{this.lengthDATA=r.data.total,this.dataSource=r.data.data.map(this._helperService.ReadDateClearly),this.sortedData=this.dataSource.slice()})}pipeFilterForm(e,o){this.filterForm.patchValue({category_ids:this.selectedCategories.map(r=>r.id),product_ids:this.selectedProducts.map(r=>r.id),customer_ids:[this.customerId],from_date:this._helperService.formatDate(this.filterForm.controls.from_date.value,!1),to_date:this._helperService.formatDate(this.filterForm.controls.to_date.value,!1),limit:e,page:o}),this.DataFilterState="void",this.loadingItems=!0}Submit(){this.isDisabled?(this.customerForm.enable(),this.isDisabled=!1,this.part="Edit"):(this.customerForm.patchValue({is_charge:"yes"==this.customerForm.get("is_charge").value}),"direct"!=this.customerForm.get("type").value&&this.customerForm.patchValue({categories:this.categories}),this.formSubmit=!0,this.loading=!0,this.customerForm.valid?this.isUpdated?this._customerService.updateCustomerInformation(this.customerId,this.customerForm.value).pipe((0,p.x)(()=>{this.loading=!1})).subscribe(e=>{this._router.navigate(["customer/all"])}):this._customerService.addCustomer(this.customerForm.value).pipe((0,p.x)(()=>{this.loading=!1})).subscribe(e=>{this._router.navigate(["customer/all"])}):(this._validationService.validateAllFormFields(this.customerForm),this._validationService.formSubject.next({form:this.customerForm,submit:this.formSubmit}),this.loading=!1))}sortData(e){const o=this.dataSource.slice();this.sortedData=e.active&&""!==e.direction?o.sort((r,c)=>{const l="asc"===e.direction;switch(e.active){case"Number":return this.compare(r.Number,c.Number,l);case"Name":return this.compare(r.Name,c.Name,l);case"Category":return this.compare(r.Category,c.Category,l);case"Product":return this.compare(r.Product,c.Product,l);case"Date":return this.compare(r.Date,c.Date,l);default:return 0}}):o}compare(e,o,r){return(e<o?-1:1)*(r?1:-1)}displayCategories(e){"direct"==e||""==e?(this.activeCategories=!1,this.DataState="void"):(this.activeCategories=!0,this.DataState="in")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(d.v),t.Y36(h.gz),t.Y36(q.H),t.Y36(F.s),t.Y36(U.p),t.Y36(N.M),t.Y36(I.R),t.Y36(h.F0),t.Y36(D.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-form"]],decls:92,vars:10,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[2,"margin-left","12rem","margin-top","6rem"],[1,"d-flex","d-flex-reverse"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"example-headers-align","mt-3","mb-4","col-md-4","mt-3",2,"position","relative",3,"multi"],[1,"mt-3",3,"expanded"],[1,"text-uppercase"],[1,"d-flex","justify-content-end","d-flex"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],["for","customerId",1,"cursor-pointer",3,"click"],[1,"text-danger"],[1,"position-relative"],["type","text","id","customerId","formControlName","serial","disabled","",1,"form-control"],[4,"ngIf"],["field","serial"],["for","type"],[1,"test",2,"position","inherit"],[1,"select-arrow"],["id","type","formControlName","type",1,"form-control",3,"click"],[3,"value",4,"ngFor","ngForOf"],["field","type"],[1,"col-md-6","mt-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["field","name"],["for","note"],["type","text","formControlName","note",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["field","email"],["for","shipment",1,"mb-2"],[1,"col-md-4"],[1,"form-check"],["type","radio","name","is_charge","formControlName","is_charge","value","yes",1,"form-check-input"],[1,"form-check-label"],["type","radio","name","is_charge","formControlName","is_charge","value","no",1,"form-check-input"],["field","is_charge"],[1,"col-md-12"],["type","tel","formControlName","phone",1,"form-control"],["field","phone"],[1,"col-md-12","mt-3"],["type","tel","formControlName","phone2",1,"form-control"],["for","address"],["type","text","id","address","formControlName","address",1,"form-control"],["class","col-md-6",4,"ngIf"],["class","example-headers-align mt-3 mb-4 col-md-4 mt-3","style","position: relative",3,"multi",4,"ngIf"],[1,"btn","btn-danger",3,"click"],["src","assets/action-data/edit W.svg","width","20","alt","Edit Action"],[1,"btn","btn-success",3,"click"],["src","assets/action-data/save.svg","width","20"],["saveTemplate",""],["width","30","src","assets/Spinner-1s-257px.svg","alt",""],[3,"value"],[1,"table",2,"text-align","center"],[4,"ngFor","ngForOf"],["type","number","min","0","max","100",1,"form-control",3,"value","disabled","change"],[1,"row","d-flex","align-items-baseline"],[1,"col-md-9"],["appearance","outline",1,"w-100"],["matInput","","placeholder","search..",3,"keyup.enter"],["matSuffix",""],[1,"col-md-3"],["mat-raised-button","",1,"w-100",3,"click"],[1,"p-3","mt-3",2,"border-radius","25px",3,"formGroup"],[3,"rangePicker"],["matStartDate","","formControlName","from_date","placeholder","Start date"],["matEndDate","","formControlName","to_date","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["type","text","matInput","","placeholder","Order Name...","formControlName","name"],["type","text","matInput","","placeholder","Order Number...","formControlName","number"],[1,"row","mt-2"],["title","Category",3,"elements","selectedItems"],["title","Product",3,"elements","selectedItems"],["rows","2","matInput","","placeholder","Order Note...","formControlName","note"],["type","submit","mat-raised-button","","color","primary",1,"w-100","h-75","text-uppercase",3,"click"],[3,"length","pageSize","pageSizeOptions","page"],["matSort","",1,"mt-3",3,"matSortChange"],["mat-sort-header","Number",1,"col-md-3","d-flex","justify-content-center",2,"text-align","center","font-weight","bold","font-size","17px"],["mat-sort-header","Name",1,"col-md-3","d-flex","justify-content-center",2,"text-align","center","font-weight","bold","font-size","17px"],["mat-sort-header","Category",1,"col-md-2","d-flex","justify-content-center",2,"text-align","center","font-weight","bold","font-size","17px"],["mat-sort-header","Product",1,"col-md-2","d-flex","justify-content-center",2,"text-align","center","font-weight","bold","font-size","17px"],["mat-sort-header","Date",1,"col-md-2","d-flex","justify-content-center",2,"text-align","center","font-weight","bold","font-size","17px"],["count","3",4,"ngIf"],["class","row p-5 text-center",4,"ngIf"],["class","card mt-3 p-3","style","border-radius: 20px; box-shadow: -1px 2px 6px 0px",4,"ngFor","ngForOf"],["count","3"],[1,"row","p-5","text-center"],[1,"col-md-12","text-uppercase"],[1,"card","mt-3","p-3",2,"border-radius","20px","box-shadow","-1px 2px 6px 0px"],[1,"row",2,"text-align","center","align-items","center"],[1,"col-md-2"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section",2),t.TgZ(4,"div",3),t.YNc(5,Q,4,0,"ng-container",4),t.YNc(6,z,5,2,"ng-template",null,5,t.W1O),t.qZA(),t.TgZ(8,"mat-accordion",6),t.TgZ(9,"mat-expansion-panel",7),t.TgZ(10,"mat-expansion-panel-header"),t.TgZ(11,"mat-panel-title",8),t._uU(12," Customer Info "),t.qZA(),t.TgZ(13,"mat-panel-description",9),t.TgZ(14,"mat-icon"),t._uU(15,"info"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"form",10),t.NdJ("ngSubmit",function(){return o.Submit()}),t.TgZ(17,"div",11),t.TgZ(18,"div",12),t.TgZ(19,"label",13),t.NdJ("click",function(){return o.fetchNewCustomerName()}),t._uU(20,"Customer ID "),t.TgZ(21,"span",14),t._uU(22,"*"),t.qZA(),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",16),t.YNc(25,B,1,0,"mat-spinner",17),t.qZA(),t._UZ(26,"validation-control",18),t.qZA(),t.TgZ(27,"div",12),t.TgZ(28,"label",19),t._uU(29,"Type "),t.TgZ(30,"span",14),t._uU(31,"*"),t.qZA(),t.qZA(),t.TgZ(32,"div",20),t.TgZ(33,"div",21),t.TgZ(34,"select",22),t.NdJ("click",function(c){return o.displayCategories(c.target.value)}),t.YNc(35,R,2,2,"option",23),t.qZA(),t._UZ(36,"validation-control",24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",11),t.TgZ(38,"div",25),t.TgZ(39,"label",26),t._uU(40,"Name "),t.TgZ(41,"span",14),t._uU(42,"*"),t.qZA(),t.qZA(),t._UZ(43,"input",27),t._UZ(44,"validation-control",28),t.qZA(),t.TgZ(45,"div",25),t.TgZ(46,"label",29),t._uU(47,"Note"),t.qZA(),t._UZ(48,"input",30),t.qZA(),t.qZA(),t.TgZ(49,"div",11),t.TgZ(50,"div",25),t.TgZ(51,"label",31),t._uU(52,"Email"),t.qZA(),t._UZ(53,"input",32),t._UZ(54,"validation-control",33),t.qZA(),t.TgZ(55,"div",25),t.TgZ(56,"label",34),t._uU(57,"Shipment "),t.TgZ(58,"span",14),t._uU(59,"*"),t.qZA(),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"div",11),t.TgZ(62,"div",35),t.TgZ(63,"div",36),t._UZ(64,"input",37),t.TgZ(65,"label",38),t._uU(66,"Yes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",12),t.TgZ(68,"div",36),t._UZ(69,"input",39),t.TgZ(70,"label",38),t._uU(71,"No"),t.qZA(),t.qZA(),t.qZA(),t._UZ(72,"validation-control",40),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",11),t.TgZ(74,"div",25),t.TgZ(75,"div",41),t.TgZ(76,"label"),t._uU(77,"Phone "),t.TgZ(78,"span",14),t._uU(79,"*"),t.qZA(),t.qZA(),t._UZ(80,"input",42),t._UZ(81,"validation-control",43),t.qZA(),t.TgZ(82,"div",44),t.TgZ(83,"label"),t._uU(84,"Phone 2 "),t.qZA(),t._UZ(85,"input",45),t.qZA(),t.TgZ(86,"div",44),t.TgZ(87,"label",46),t._uU(88,"Address"),t.qZA(),t._UZ(89,"input",47),t.qZA(),t.qZA(),t.YNc(90,X,20,2,"div",48),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(91,it,75,15,"mat-accordion",49),t.qZA(),t.qZA()),2&e){const r=t.MAs(7);t.xp6(1),t.hij(" Customer > ",o.part,"\n"),t.xp6(4),t.Q6J("ngIf",o.isDisabled)("ngIfElse",r),t.xp6(3),t.Q6J("multi",!0),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Q6J("formGroup",o.customerForm),t.xp6(9),t.Q6J("ngIf",o.loadingRequestNew),t.xp6(10),t.Q6J("ngForOf",o.type),t.xp6(55),t.Q6J("ngIf",o.activeCategories),t.xp6(1),t.Q6J("ngIf",o.isUpdated)}},directives:[u.O5,_.pp,_.ib,_.yz,_.yK,_.u4,O.Hw,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,M.n,n.EJ,u.sg,n._,w.$g,n.YN,n.Kr,v.KE,v.hX,J.Nt,v.bx,v.R9,P.lW,Z.wx,Z.zY,Z.By,Z.nW,Z._g,k.j,Y.NW,x.YE,x.nU,y.xr],styles:[".card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{border-style:none}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}[_nghost-%COMP%]     .mat-paginator-container{justify-content:space-between}[_nghost-%COMP%]     .mat-paginator{background:transparent}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}[_nghost-%COMP%]     mat-spinner{width:25px!important;height:25px!important;position:absolute!important;top:7px!important;right:43px!important}[_nghost-%COMP%]     mat-spinner svg{width:25px!important;height:25px!important}"],data:{animation:[(0,m.X$)("in",[(0,m.SB)("in",(0,m.oB)({opacity:1,transform:"translateX(0)"})),(0,m.eR)("void=>*",[(0,m.oB)({opacity:0,transform:"translateX(50px)"}),(0,m.jt)(1e3)])]),g.M,A.U]}}),i})();var rt=a(8259),C=a.n(rt),at=a(8590);function nt(i,s){if(1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"p",10),t._uU(2),t.qZA(),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("mat-sort-header",e),t.xp6(1),t.Oqu(e)}}function st(i,s){1&i&&t._UZ(0,"ngx-skeleton-loader",11)}function ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t._uU(3),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA(),t.TgZ(6,"div",14),t._uU(7),t.qZA(),t.TgZ(8,"div",14),t._uU(9),t.qZA(),t.TgZ(10,"div",14),t._uU(11),t.qZA(),t.TgZ(12,"div",15),t.TgZ(13,"img",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().GetCustomerInfo(c.id)}),t.qZA(),t._UZ(14,"div",17),t.TgZ(15,"img",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().routeToEdit(c.id)}),t.qZA(),t._UZ(16,"div",17),t.TgZ(17,"img",19),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().DeleteCustomer(c.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=s.$implicit,o=t.oxw();t.Q6J("@in",o.DataState),t.xp6(3),t.Oqu(e.serial),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.phone2)}}const lt=[{path:"all",component:(()=>{class i{constructor(e,o){this._customerService=e,this._router=o,this.loadingItems=!1,this.DataState="void",this.headers=["Customer_ID","Name","Type","Phone","Phone_2","Settings"]}ngOnInit(){this.fetchData()}fetchData(){this.getCustomers()}getCustomers(){this.loadingItems=!0,this._customerService.getAllCustomers().pipe((0,p.x)(()=>{this.loadingItems=!1})).subscribe(e=>{this.datasource=e.data.data,this.DataState="in",this.sortedData=this.datasource.slice()})}DeleteCustomer(e){C().fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(o=>{o.isConfirmed?this._customerService.removeCustomer(e).subscribe(r=>{C().fire("Deleted!","Your imaginary file has been deleted.","success"),this.getCustomers()}):o.dismiss===C().DismissReason.cancel&&C().fire("Cancelled","Your imaginary file is safe :)","error")})}routeToAdd(){this._router.navigate(["customer/form"])}routeToEdit(e){this._router.navigate(["customer/form",e])}GetCustomerInfo(e){this._router.navigate(["customer/find",e])}sortData(e){const o=this.datasource.slice();this.sortedData=e.active&&""!==e.direction?o.sort((r,c)=>{const l="asc"===e.direction;switch(e.active){case"Name":return this.compare(r.Name,c.Name,l);case"Customer_ID":return this.compare(r.Customer_ID,c.Customer_ID,l);case"Type":return this.compare(r.Type,c.Type,l);case"Phone":return this.compare(r.Phone,c.Phone,l);case"Phone_2":return this.compare(r.Phone_2,c.Phone_2,l);case"Settings":return this.compare(r.Settings,c.Settings,l);default:return 0}}):o}compare(e,o,r){return(e<o?-1:1)*(r?1:-1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.v),t.Y36(h.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customer-main"]],decls:12,vars:3,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-success","mb-3","btn-add",3,"click"],["matSort","",3,"matSortChange"],[1,"row"],["class","col-md-2 ","style","text-align: center;font-weight: bold;font-size: 17px;",4,"ngFor","ngForOf"],["count","10",4,"ngIf"],["class","card mt-3 p-2","style","border-radius: 20px;",4,"ngFor","ngForOf"],[1,"col-md-2",2,"text-align","center","font-weight","bold","font-size","17px"],[3,"mat-sort-header"],["count","10"],[1,"card","mt-3","p-2",2,"border-radius","20px"],[1,"row",2,"text-align","center","align-items","center"],[1,"col-md-2"],[1,"col-md-2",2,"display","flex","justify-content","space-evenly"],["mat-raised-button","","matTooltip","info","matTooltipPosition","above","src","assets/action-data/Group 317.svg","width","23",2,"cursor","pointer",3,"click"],[1,"vl"],["mat-raised-button","","matTooltip","edit","matTooltipPosition","above","src","assets/action-data/edit.svg","width","23",2,"cursor","pointer",3,"click"],["mat-raised-button","","matTooltip","delete","matTooltipPosition","above","src","assets/action-data/delete.svg","width","20",2,"cursor","pointer",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Customer"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section"),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return o.routeToAdd()}),t._uU(6,"+ Add New Customer"),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.NdJ("matSortChange",function(c){return o.sortData(c)}),t.TgZ(8,"div",5),t.YNc(9,nt,3,2,"div",6),t.qZA(),t.YNc(10,st,1,0,"ngx-skeleton-loader",7),t.YNc(11,ct,18,6,"div",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngForOf",o.headers),t.xp6(1),t.Q6J("ngIf",o.loadingItems),t.xp6(1),t.Q6J("ngForOf",o.sortedData))},directives:[x.YE,u.sg,u.O5,x.nU,y.xr,at.gM],styles:[".card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}"],data:{animation:[(0,m.X$)("in",[(0,m.SB)("in",(0,m.oB)({opacity:1,transform:"translateY(0)"})),(0,m.eR)("void=>*",[(0,m.oB)({opacity:0,transform:"translateY(100px)"}),(0,m.jt)(1e3)])])]}}),i})()},{path:"form",component:b},{path:"form/:customerId",component:b},{path:"find/:customerId",component:b}];let mt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[h.Bz.forChild(lt)],h.Bz]}),i})();var dt=a(6018),ut=a(71);let pt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,n.u5,n.UX,mt,dt.SharedModule,ut.E],h.Bz]}),i})()},6058:(S,f,a)=>{a.d(f,{i:()=>u});var u=(()=>{return(n=u||(u={})).Order="order",n.RequestOrder="request_order",n.Group="group",n.customer="customer",u;var n})()},1988:(S,f,a)=>{a.d(f,{K:()=>A});var u=a(9765),n=a(3927);class h extends n.s{constructor(t){super(t,"api")}AuthLogin(t){return this.createEntity(t,"/login")}GetNewNameModel(t){return this.readEntity(void 0,"/get/name/"+t)}}var m=a(7716),p=a(1841),T=a(1188);let A=(()=>{class g{constructor(d,q){this._storageService=q,this.localStorageUser=new u.xQ,this.authActions=new h(d)}loginUser(d){return this.authActions.AuthLogin(d)}setLocalStorageUser(d){this._storageService.setLocalObject("user",d),this.localStorageUser.next(d)}getUser(){return this.localStorageUser.asObservable()}logout(){this._storageService.removeToken(),this._storageService.removeLocalObject("user"),this.localStorageUser.next(null)}getNewNamesModel(d){return this.authActions.GetNewNameModel(d)}}return g.\u0275fac=function(d){return new(d||g)(m.LFG(p.eN),m.LFG(T.V))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);