"use strict";(self.webpackChunklamasat=self.webpackChunklamasat||[]).push([[382],{2382:(h,c,o)=>{o.r(c),o.d(c,{DepartmentModule:()=>I});var i=o(8583),l=o(3679),g=o(4655),d=o(8603),v=o(71),f=o(8939),Z=o(8259),p=o.n(Z),_=o(8818),t=o(7716),x=o(7749),D=o(5058),b=o(8590);function T(e,s){if(1&e&&(t.TgZ(0,"div",18),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n)}}function M(e,s){1&e&&t._UZ(0,"ngx-skeleton-loader",19)}function C(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t._uU(3),t.qZA(),t.TgZ(4,"div",22),t._uU(5),t.qZA(),t.TgZ(6,"div",23),t.TgZ(7,"img",24),t.NdJ("click",function(){const m=t.CHM(n).$implicit,u=t.oxw(),N=t.MAs(12);return u.Show(N,!0,m.id)}),t.qZA(),t._UZ(8,"div",25),t.TgZ(9,"img",26),t.NdJ("click",function(){const m=t.CHM(n).$implicit;return t.oxw().DeleteDept(m.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=s.$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.note)}}function A(e,s){1&e&&t._UZ(0,"img",28)}function y(e,s){if(1&e&&(t.ynx(0),t.YNc(1,A,1,0,"img",27),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loading)}}function S(e,s){1&e&&(t._UZ(0,"img",29),t._uU(1," Save "))}const U=[{path:"all",component:(()=>{class e{constructor(n,a,r){this._departmentService=n,this._modalService=a,this._formBuilder=r,this.headers=["Name","Note","Settings"],this.datasource=[],this.isUpdated=!1,this.loading=!1,this.DataState="void",this.loadingItems=!1}ngOnInit(){this.initialForm(),this.fetchData()}initialForm(){this.departmentGroup=this._formBuilder.group({name:[null,l.kI.required],note:[null,l.kI.nullValidator]})}fetchData(){this.getDepartments()}getDepartments(){this.loadingItems=!0,this._departmentService.getAllDepartments().pipe((0,f.x)(()=>{this.loadingItems=!1})).subscribe(n=>{this.datasource=n.data,this.DataState="in"})}Show(n,a,r){this.isUpdated=a,this.departmentGroup.reset(),this.isUpdated&&(this.departmentId=r,this.initialValueDepartment(r)),this.modalRef=this._modalService.open(n,{size:"md",modalClass:"mymodal",hideCloseButton:!1,centered:!1,backdrop:!0,animation:!0,keyboard:!1,closeOnOutsideClick:!0,backdropClass:"modal-backdrop"})}closeModal(){this._modalService.close(this.modalRef)}Submit(n){this.departmentGroup.valid&&(this.loading=!0,this.isUpdated?this._departmentService.updateDepartment(this.departmentId,this.departmentGroup.value).pipe((0,f.x)(()=>{this.loading=!1})).subscribe(a=>{this.getDepartments(),this.closeModal()}):this._departmentService.createDept(n).pipe((0,f.x)(()=>{this.loading=!1})).subscribe(a=>{this.getDepartments(),this.closeModal()}))}DeleteDept(n){p().fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(a=>{a.isConfirmed?(this._departmentService.removeDept(n).subscribe(r=>{p().fire("Deleted!","Your imaginary file has been deleted.","success")}),this.getDepartments()):a.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Your imaginary file is safe :)","error")})}initialValueDepartment(n){this._departmentService.infoDepartment(n).subscribe(a=>{var r=a.data;this.departmentGroup.patchValue({name:r.name,note:r.note})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(x.n),t.Y36(d.gk),t.Y36(l.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-department-main"]],decls:35,vars:7,consts:[[1,"nav-title-header","fs-4","fw-bold","text-center"],[1,"container"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-success","mb-3","btn-add",3,"click"],[1,"row"],["class","col-md-4","style","text-align: center; font-weight: bold; font-size: 17px",4,"ngFor","ngForOf"],["count","10",4,"ngIf"],["class","card mt-3 p-2","style","border-radius: 20px",4,"ngFor","ngForOf"],["deptModal",""],["action"," ",3,"formGroup","ngSubmit"],["for"," "],["type","text ","formControlName","name",1,"form-control"],["formControlName","note","name"," ","id"," ","cols","30 ","rows","5 ",1,"form-control"],[1,"col-md-6"],["type","button",1,"btn","btn-danger","w-100",3,"click"],["type","submit",1,"btn","btn-success","w-100"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"col-md-4",2,"text-align","center","font-weight","bold","font-size","17px"],["count","10"],[1,"card","mt-3","p-2",2,"border-radius","20px"],[1,"row",2,"text-align","center","align-items","center"],[1,"col-md-4"],[1,"col-md-4",2,"display","flex","justify-content","space-evenly"],["mat-raised-button","","matTooltip","edit","matTooltipPosition","above","src","assets/action-data/edit.svg","width","23",2,"cursor","pointer",3,"click"],[1,"vl"],["mat-raised-button","","matTooltip","delete","matTooltipPosition","above","src","assets/action-data/delete.svg","width","20",2,"cursor","pointer",3,"click"],["width","30","src","assets/Spinner-1s-257px.svg","alt","",4,"ngIf"],["width","30","src","assets/Spinner-1s-257px.svg","alt",""],["src","assets/action-data/save.svg","width","20"]],template:function(n,a){if(1&n){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"Department"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"section"),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){t.CHM(r);const u=t.MAs(12);return a.Show(u,!1,0)}),t._uU(6," + Add New Department "),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,T,3,1,"div",5),t.qZA(),t.YNc(9,M,1,0,"ngx-skeleton-loader",6),t.YNc(10,C,10,2,"div",7),t.qZA(),t.qZA(),t.TgZ(11,"modal",null,8),t.TgZ(13,"modal-header"),t._uU(14," Department Modal "),t.qZA(),t.TgZ(15,"modal-content"),t.TgZ(16,"form",9),t.NdJ("ngSubmit",function(){return a.Submit(a.departmentGroup.value)}),t.TgZ(17,"label",10),t._uU(18,"Name"),t.qZA(),t._UZ(19,"input",11),t._UZ(20,"br"),t._UZ(21,"br"),t.TgZ(22,"label",10),t._uU(23,"Note"),t.qZA(),t._UZ(24,"textarea",12),t._UZ(25,"br"),t.TgZ(26,"div",4),t.TgZ(27,"div",13),t.TgZ(28,"button",14),t.NdJ("click",function(){return a.closeModal()}),t._uU(29," X Cancel "),t.qZA(),t.qZA(),t.TgZ(30,"div",13),t.TgZ(31,"button",15),t.YNc(32,y,2,1,"ng-container",16),t.YNc(33,S,2,0,"ng-template",null,17,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const r=t.MAs(34);t.xp6(2),t.Q6J("@in",a.DataState),t.xp6(6),t.Q6J("ngForOf",a.headers),t.xp6(1),t.Q6J("ngIf",a.loadingItems),t.xp6(1),t.Q6J("ngForOf",a.datasource),t.xp6(6),t.Q6J("formGroup",a.departmentGroup),t.xp6(16),t.Q6J("ngIf",a.loading)("ngIfElse",r)}},directives:[i.sg,i.O5,d.zS,d.Rb,d.Ef,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,D.xr,b.gM],styles:[".card[_ngcontent-%COMP%]{box-shadow:-1px 2px 6px}.vl[_ngcontent-%COMP%]{border-left:2px solid;height:35px}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}"],data:{animation:[_.b]}}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(U)],g.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.ez,l.u5,d.zk,l.UX,w,v.E],g.Bz]}),e})()},8818:(h,c,o)=>{o.d(c,{b:()=>l});var i=o(7238);const l=[(0,i.X$)("in",[(0,i.eR)("void=>in",[(0,i.IO)(".card",(0,i.oB)({opacity:0,transform:"translateY(-75px)"})),(0,i.IO)(".card",(0,i.EY)(".5s",[(0,i.jt)("1s ease-in",(0,i.F4)([(0,i.oB)({opacity:0,transform:"translateY(-75px)",offset:0}),(0,i.oB)({opacity:.5,transform:"translateY(35px)",offset:.3}),(0,i.oB)({opacity:1,transform:"translateY(0px)",offset:1})]))]))])])]}}]);